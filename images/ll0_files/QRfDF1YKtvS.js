if (self.CavalryLogger) { CavalryLogger.start_js(["aU0QH"]); }

__d("MWChatConfirmTabCloseDialog.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={body:g._("Are you sure you want to close this chat window?"),confirm:g._("\u1021\u102d\u102f\u1000\u1031"),title:g._("You haven't sent your message.")};f.content=a}),null);
__d("MWChatFacepile.bs",["React","stylex","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80",position:"l9j0dhe7"},image:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",position:"pmk7jnqg"},leftImage:{start:"j9ispegn",bottom:"i09qtzwb"},imageBorder:{borderTop:"onbmnuye",borderEnd:"ss08itiq",borderBottom:"gm9yxfny",borderStart:"e3a5340w"},rightImage:{end:"n7fi1qx3",top:"kr520xx4"},dropShadow:{boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"}}};function a(a){var c=a.borderBetweenImages,d=a.children,e=a.firstParticipantURI,f=a.secondParticipantURI,j=a.shadow;a=a.size;c=c!==void 0?c:!0;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;j=j!==void 0?j:!1;a=a!==void 0?a:30;var k=a/1.5|0;k={height:String(k)+"px",width:String(k)+"px"};return h.jsxs("div",{children:[h.jsx("img",{className:(g||(g=b("stylex")))(j?i.dropShadow:!1,i.image,i.rightImage),style:k,alt:"",src:f}),h.jsx("img",{className:g(j?i.dropShadow:!1,i.image,c?i.imageBorder:!1,i.leftImage),style:k,alt:"",src:e}),d],className:g(i.root),style:{height:String(a)+"px",width:String(a)+"px"}})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatFacepile.re",["MWChatFacepile.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MWChatFacepile.bs").make;f.make=a}),null);
__d("MWChatProfile.bs",["React","stylex","bs_belt_Option","BaseGlimmer.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{position:"l9j0dhe7"},img:{width:"k4urcfbm",height:"datstx6m",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",verticalAlign:"pzggbiyp",objectFit:"bixrwtb6"},activeNow:{display:"mkhogb32",position:"pmk7jnqg",backgroundColor:"jllm4f4h",width:"c9rrlmt1",height:"t6na6p9t",borderTop:"iruzoqzv",borderEnd:"n8v90iwk",borderBottom:"qx7ju95k",borderStart:"m8of71z0",bottom:"i09qtzwb",end:"n7fi1qx3",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},active:{display:"a8c37x1j"}};function a(a){var c=a.size,d=a.src,e=a.isActiveNow,f=a.alt;a=a.children;e=e!==void 0?e:!1;f=f!==void 0?f:"";f=d!==void 0?h.jsx("img",{className:(g||(g=b("stylex")))(i.img),alt:f,src:d}):h.jsx(b("BaseGlimmer.react"),{className:(g||(g=b("stylex")))(i.img),index:1});return h.jsxs("div",{children:[f,b("bs_belt_Option").getWithDefault(a,null),h.jsx("div",{className:(g||(g=b("stylex")))(i.activeNow,e?i.active:!1)})],className:g(i.root),style:{height:String(c)+"px",width:String(c)+"px"}})}c=a;f.styles=i;f.make=c}),null);
__d("MWUIMarkThreadAsRead.bs",["requireCond","cr:1503714"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1503714").useHook;f.useHook=a}),null);
__d("MWChatIsMessageRequest.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)if(a==="pending")return!0;else return a==="other";else return!1}f.fn=a}),null);
__d("MWChatDeleteMessageEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f){"use strict";f.emit=a;f.subscribe=c;var g="deleteMessage",h=new(b("BaseEventEmitter"))();function a(a){h.emit(g,a)}function c(a){var b=h.addListener(g,a);return function(){return b.remove()}}}),null);
__d("MWChatParticipantsHook.bs",["bs_curry","React","bs_belt_Map","bs_belt_Array","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){a=a.slice().sort(function(a,b){if(a>b)return-1;else if(a===b)return 0;else return 1});return a.join(",")}function i(a){if(a===void 0)return"";a=b("bs_caml_option").valFromOption(a);var c=h(a.participants);a=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.thread_type),0);return String(a)+c}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_caml_option").valFromOption(c).participants:[],e=b("bs_belt_Array").keepMap(d,function(a){a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))return b("bs_caml_option").some(a)});a=g.useState(function(){var a={};e.length===d.length&&e.forEach(function(b){a[b.id]=b});return a});var f=a[1];c=i(c);g.useEffect(function(){var a=b("MessengerParticipants.bs").getMulti(d,function(a){return b("bs_curry")._1(f,function(b){return a})});return function(c){if(!(a==null))return b("MessengerParticipants.bs").removeCallback(a)}},[c,f]);return a[0]}f.createHashForParticipantIds=h;f.useParticipantsPayloadHash=i;f.useParticipants=a}),null);
__d("MWMSBlockedIds.bs",["bs_belt_Set","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MessengerState.bs").useHook(b("CurrentUser").getID());return new Set(b("bs_belt_Set").toArray(a.blockedIds).map(function(a){return b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a)))}))}f.useHook=a}),null);
__d("MWMSBlockStatus.bs",["bs_curry","bs_js_dict","MercuryIDs","bs_belt_Option","bs_caml_option","MWMSBlockedIds.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWMSBlockedIds.bs").useHook(void 0);var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);if(typeof c==="string")return!1;var d=c.NAME;if(d==="User"||d==="Page")return a.has(c.VAL);else return!1}function c(a){var c=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,a),d=b("MWMSBlockedIds.bs").useHook(void 0);if(typeof a==="string"||a.NAME!=="Group"){b("recoverableViolation")("Trying to get block status for non group thread","messenger_comet");return!1}else return b("bs_js_dict").entries(c[0]).some(function(a){return d.has(b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a[1].id))))})}function d(a){var c=b("MWMSBlockedIds.bs").useHook(void 0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,a);return b("bs_js_dict").values(a[0]).filter(function(a){return c.has(b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a.id))))}).map(function(a){return a.fbid})}f.useIsThreadBlocked=a;f.useIsBlockedUserInGroup=c;f.useBlockeesInThread=d}),null);
__d("MWMSCurrentThreadDetails.bs",["CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);return b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),b("MWChatThreadId.bs").getMercuryID(a))}f.useHook=a}),null);
__d("MWMSThreadTitle.bs",["bs_js_dict","bs_belt_Array","MercuryIDs","bs_caml_option","CurrentUser","JsDictReadOnly.bs","MercuryParticipantListRenderer"],(function(a,b,c,d,e,f){"use strict";function g(a){var c={};b("bs_js_dict").entries(a).forEach(function(a){c[a[0]]=a[1]});return c}function h(a,c,d,e,f){if(a!=="")return a;a=g(d);return new(b("MercuryParticipantListRenderer"))().setUseShortName(f).setUseAndSeparator(e).setIsNewThread(!1).setNickname(a).renderParticipantList(c)}function i(a,c){if(a!==void 0)return[b("bs_caml_option").valFromOption(a)];else{var d=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());a=b("JsDictReadOnly.bs").keys(c);var e=a.length;return b("bs_belt_Array").keepMap(a,function(a){if(a===d&&e!==1)return;else{a=b("JsDictReadOnly.bs").get(c,a);if(a!==void 0)return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(a).image_src);else return}})}}function a(a,c){return i(a,b("JsDictReadOnly.bs").from(c))}function j(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()),f=b("JsDictReadOnly.bs").keys(c).length,g=b("bs_belt_Array").keepMap(b("JsDictReadOnly.bs").keys(c),function(a){if(a===e&&f>1)return;a=b("JsDictReadOnly.bs").get(c,a);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);return{id:a.id,name:a.name,short_name:a.short_name}});return h(a,g,d,!0,!0)}function c(a,c,d){return j(a,b("JsDictReadOnly.bs").from(c),d)}function k(a,c,d){c=b("JsDictReadOnly.bs").get(c,b("MercuryIDs").getParticipantIDFromUserID(a));if(c===void 0)return;a=b("bs_caml_option").valFromOption(c);return h("",[{id:a.id,name:a.name,short_name:a.short_name}],d,!1,!1)}function d(a,c,d){return k(a,b("JsDictReadOnly.bs").from(c),d)}function l(a,c){c=b("JsDictReadOnly.bs").get(c,b("MercuryIDs").getParticipantIDFromUserID(a));if(c!==void 0)return b("bs_caml_option").some(b("bs_caml_option").valFromOption(c).name)}function e(a,c){return l(a,b("JsDictReadOnly.bs").from(c))}f.getProfileImages_=i;f.getProfileImages=a;f.getTitleForGroup_=j;f.getTitleForGroup=c;f.getTitleForUser_=k;f.getTitleForUser=d;f.getTitleForPage_=l;f.getTitleForPage=e}),null);
__d("MWChatTitleHooks.bs",["bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","JsDictReadOnly.bs","MWMSThreadTitle.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){return b("MWMSThreadTitle.bs").getProfileImages_(c,b("JsDictReadOnly.bs").from(a))}function c(a){var c=g.useState(function(){return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)}),{})}),d=c[1],e=c[0],f=b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)});g.useEffect(function(){if(f!==void 0){var a=b("bs_caml_option").valFromOption(f);b("bs_curry")._1(d,function(b){return a})}return function(a){}},[f,d]);c=g.useCallback(function(a){return function(c){var f=b("bs_js_dict").get(e,a),g=b("bs_js_dict").map(function(a){return a},e);c!==void 0&&c!==""?g[a]=c:b("bs_js_dict").unsafeDeleteKey(g,a);b("bs_curry")._1(d,function(a){return g});return f}},[e,d]);return[e,c]}f.useImages=a;f.useNicknames=c}),null);
__d("MWMSLoadParticipants.bs",["bs_js_dict","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWChatTitleHooks.bs","MWChatParticipantsHook.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));a=b("MWChatParticipantsHook.bs").useParticipants(a);c=b("MWChatTitleHooks.bs").useNicknames(c);return[a,c[0],c[1]]}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_caml_option").valFromOption(c).admins:{};c=g(a);var e=c[1];a=b("bs_js_dict").values(c[0]);var f=new Map();a.forEach(function(a){var c=a.fbid,g=b("bs_js_dict").get(e,c);c=b("bs_js_dict").get(d,c);var h=a.fbid,i=b("bs_belt_Option").getWithDefault(g,a.short_name),j=a.name,k=b("bs_caml_option").nullable_to_opt(a.href),l=b("bs_caml_option").nullable_to_opt(a.image_src),m=a.is_friend;c=b("bs_belt_Option").isSome(c);h={contactId:h,name:i,actualName:j,nickname:g,profileUrl:k,profilePictureUrl:l,isContact:m,isAdmin:c};f.set(a.fbid,h)});return f}f.useMercuryParticipants=g;f.useParticipants=a}),null);
__d("MWUIThreadImage.bs",["requireCond","cr:1549085"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549085").useHook;f.$MWLSThreadImage$OR$MWMSThreadImage$requireCond=b("cr:1549085");f.useHook=a}),null);
__d("MWMSLoadThreadPicture.bs",["bs_curry","MWUIThreadImage.bs","MWChatTitleHooks.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,a);var c=b("bs_curry")._1(b("MWUIThreadImage.bs").useHook,void 0);return b("MWChatTitleHooks.bs").useImages(a[0],c)}f.useHook=a}),null);
__d("MWUIThreadName.bs",["requireCond","cr:1549086"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549086").useHook;f.$MWLSThreadName$OR$MWMSThreadName$requireCond=b("cr:1549086");f.useHook=a}),null);
__d("MWMSLoadThreadTitle.bs",["bs_curry","bs_belt_Option","MWUIThreadName.bs","MWMSThreadTitle.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("bs_curry")._1(b("MWUIThreadName.bs").useHook,void 0),d=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,a),e=d[1],f=d[0],g=a.NAME;c=g==="Group"?b("MWMSThreadTitle.bs").getTitleForGroup(b("bs_belt_Option").getWithDefault(c,""),f,e):g==="Page"?b("MWMSThreadTitle.bs").getTitleForPage(a.VAL,f):b("MWMSThreadTitle.bs").getTitleForUser(a.VAL,f,e);return[c,d[2]]}f.useHook=a}),null);
__d("MWMSMarkThreadAsRead.bs",["React","FBMqttChannel","MWThread_DEPRECATED.bs","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);return g.useCallback(function(a){a=JSON.stringify({threadId:c.VAL,mark:"read",state:!0});a!==void 0?b("FBMqttChannel").publish("/mark_thread",a):b("recoverableViolation")("Failed to construct JSON to mark read","messenger_comet")},[c])}f.useHook=a}),null);
__d("MWMSThreadCapabilities.bs",["gkx","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs","MessagingThreadType","MessengerParticipants.bs","MercuryParticipantTypes"],(function(a,b,c,d,e,f){"use strict";function g(a){a=a.user_type;if(a==null)return!1;else return a===b("MercuryParticipantTypes").PARENT_APPROVED_USER}function a(a){var c;a=b("MWThread_DEPRECATED.bs").useId(void 0);var d=b("CurrentUser").getID(),e=b("MessengerState.bs").useHook(d),f=(c=b("bs_belt_Option")).getWithDefault(c.flatMap(a,function(a){return b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(b("MessengerState.bs").getThreadMetaNow(d,b("MWChatThreadId.bs").getMercuryID(a))),function(a){return b("bs_caml_option").nullable_to_opt(a.thread_type)}),function(a){return a===b("MessagingThreadType").GROUP})}),!1);c=c.map(c.flatMap(a,function(a){return b("bs_belt_Map").get(e.threads,b("MWChatThreadId.bs").getMercuryID(a))}),function(a){return a.participants});a=c!==void 0?c.reduce(function(a,c){c=b("MessengerParticipants.bs").getNow(c);if(c==null)return a;else if(a)return!0;else return g(c)},!1):!1;return{canSendGif:!a,canSendPayment:!a,canCreatePoll:f&&!a,canDisplayActorTypeInThreadViewHeader:!1,canCustomizeEmoji:!0,canCustomizeNicknames:!0,canCustomizeTheme:!0,canCreateGroup:!0,canRtcVideoCall:!0,canRtcVoiceCall:!0,canSendFile:!0,canSendAudioClip:!1,canSendQuickCamAttachment:b("gkx")("1710025")}}function c(a){return a.canSendGif}function d(a){return a.canSendPayment}function e(a){return a.canCreatePoll}function h(a){return a.canDisplayActorTypeInThreadViewHeader}function i(a){return a.canCustomizeEmoji}function j(a){return a.canCustomizeTheme}function k(a){return a.canCustomizeNicknames}function l(a){return a.canCreateGroup}function m(a){return a.canRtcVideoCall}function n(a){return a.canRtcVoiceCall}function o(a){return a.canSendFile}function p(a){return a.canSendAudioClip}function q(a){return a.canSendQuickCamAttachment}f.isParentApprovedUser=g;f.useCapabilities=a;f.canSendGif=c;f.canSendPayment=d;f.canCreatePoll=e;f.canDisplayActorTypeInThreadViewHeader=h;f.canCustomizeEmoji=i;f.canCustomizeTheme=j;f.canCustomizeNicknames=k;f.canCreateGroup=l;f.canRtcVideoCall=m;f.canRtcVoiceCall=n;f.canSendFile=o;f.canSendAudioClip=p;f.canSendQuickCamAttachment=q}),null);
__d("MWMSThreadFolder.bs",["React","bs_belt_Map","bs_belt_Option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").map(a,function(a){return a.folder})},[d,c])}f.useHook=a}),null);
__d("MWMSThreadHasThread.bs",["React","bs_belt_Map","bs_belt_Option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);return b("bs_belt_Option").isSome(b("bs_belt_Map").get(d,a))},[d,c])}f.useHook=a}),null);
__d("MWMSThreadImage.bs",["React","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").mapWithDefault(a,void 0,function(a){if(a.square_image_src!==null)return b("bs_caml_option").nullable_to_opt(a.square_image_src);else return b("bs_caml_option").nullable_to_opt(a.image_src)})},[d,c])}f.useHook=a}),null);
__d("MWMSThreadProfileLink.bs",["React","bs_belt_Option","bs_caml_option","MWThread_DEPRECATED.bs","MessagingThreadType","MWMSCurrentThreadDetails.bs","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("MWMSCurrentThreadDetails.bs").useHook(void 0);var c=b("MWThread_DEPRECATED.bs").useFBID(void 0),d=b("bs_belt_Option").mapWithDefault(a==null?void 0:b("bs_caml_option").some(a),!1,function(a){return b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(a.thread_type),!1,function(a){return a===b("MessagingThreadType").ONE_TO_ONE})});return g.useMemo(function(){if(d)return b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:c})},[c,d])}f.useHook=a}),null);
__d("MWThread_DEPRECATED.re",["MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){c=(a=b("MWThread_DEPRECATED.bs")).useId;f.useId=c;d=a.useIdExn;f.useIdExn=d;e=a.toThreadKey;f.toThreadKey=e;b=a.useFBID;f.useFBID=b;c=a.key;f.key=c;(function(a){return null});d=a.make;f.make=d}),null);
__d("MessengerParticipantUtils.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(a);a=d.participants.filter(function(a){return b("bs_caml_obj").caml_notequal(a,e)});return a.filter(function(a){return b("bs_belt_Set").has(c,a)})}d=b("bs_belt_Set").has;function h(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function a(a,b,c){return h(a,b,c).length>0}function c(a,b,c){return g(a,b,c).length>0}f.findIntersection=g;f.has=d;f.participantsInGroupThread=h;f.areParticipantsInGroupThread=a;f.areParticipantsInThread=c}),null);
__d("OnlineUserIds.bs",["bs_belt_Set","ParticipantId.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Set").make(b("ParticipantId.bs"))}function c(a){return b("bs_belt_Set").fromArray(a,b("ParticipantId.bs"))}f.make=a;f.fromArray=c}),null);
__d("MWMSPresenceIsThreadActive.bs",["bs_curry","React","bs_belt_Map","MercuryIDs","bs_caml_option","CurrentUser","OnlineUserIds.bs","MWChatThreadId.bs","MessengerState.bs","requireDeferred","MWThread_DEPRECATED.bs","PresenceStatusContext","AvailableListConstants","MessengerParticipantUtils.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("MessengerMQTTPresence.bs");function a(a){var c=b("MWThread_DEPRECATED.bs").useId(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=g.useContext(b("PresenceStatusContext")),e;if(c!==void 0&&typeof c!=="string"){var f=c.NAME;e=f==="User"||f==="Page"||f==="Group"?b("bs_belt_Map").get(a.threads,b("MWChatThreadId.bs").getMercuryID(c)):void 0}else e=void 0;var i=g.useCallback(function(a){if(e!==void 0)return b("MessengerParticipantUtils.bs").findIntersection(b("CurrentUser").getID(),b("OnlineUserIds.bs").fromArray(b("bs_curry")._1(d.getOnlineIDs,void 0).map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)})),b("bs_caml_option").valFromOption(e)).length!==0;else return!1},[e,d]),j=g.useCallback(function(a){if(e!==void 0&&b("bs_curry")._1(d.getChatVisibility,void 0))return b("bs_caml_option").valFromOption(e).is_business_page_active;else return!1},[e,d]);f=g.useState(function(){if(c===void 0)return!1;if(typeof c==="string")return!1;var a=c.NAME;if(a==="Group")return b("bs_curry")._1(i,void 0);if(a==="Page")return b("bs_curry")._1(j,void 0);if(a!=="User")return!1;a=b("bs_curry")._1(d.get,c.VAL);if(a==null)return!1;else return a===b("AvailableListConstants").ACTIVE});var k=f[1];g.useEffect(function(){if(c!==void 0&&typeof c!=="string"&&c.NAME==="User"){var a=c.VAL,e=b("bs_curry")._1(d.get,a);e==null&&h.onReady(function(c){return b("bs_curry")._1(c.sendAdditionalBuddyRequest,a)})}},[c,d]);g.useEffect(function(){c!==void 0&&!(typeof c==="string"||c.NAME!=="Group")&&b("bs_curry")._1(k,function(a){return b("bs_curry")._1(i,void 0)})},[c,d,i]);g.useEffect(function(){var a=b("bs_curry")._1(d.addListener,function(a){if(c===void 0)return;if(typeof c==="string")return;a=c.NAME;if(a==="Group")return b("bs_curry")._1(k,function(a){return b("bs_curry")._1(i,void 0)});if(a==="Page")return b("bs_curry")._1(k,function(a){return b("bs_curry")._1(j,void 0)});if(a!=="User")return;var e=b("bs_curry")._1(d.get,c.VAL);if(e==null)return b("bs_curry")._1(k,function(a){return!1});else return b("bs_curry")._1(k,function(a){return e===b("AvailableListConstants").ACTIVE})});return function(c){return b("bs_curry")._1(a,void 0)}},[c,d,i]);return f[0]}f.useHook=a}),null);
__d("MWMSRTCDisplayStatus.bs",["gkx","bs_js_dict","bs_caml_obj","MercuryIDs","CurrentUser","MWMSBlockStatus.bs","MWMSThreadFolder.bs","MWMSThreadHasThread.bs","MWThread_DEPRECATED.bs","MWMSLoadParticipants.bs","MWChatIsMessageRequest.bs","MWMSThreadCapabilities.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWMSThreadFolder.bs").useHook(void 0);var c=b("MWMSBlockStatus.bs").useIsThreadBlocked(void 0),d=b("MWMSThreadHasThread.bs").useHook(void 0),e=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MWChatIsMessageRequest.bs").fn(a);var f=b("MWMSLoadParticipants.bs").useMercuryParticipants(e);f=f[0];var g=typeof e==="string"||e.NAME!=="Group"?!1:b("bs_js_dict").entries(f).some(function(a){return b("bs_caml_obj").caml_equal(a[1].id,b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()))}),h=b("MWMSThreadCapabilities.bs").useCapabilities(void 0);h=b("MWMSThreadCapabilities.bs").canRtcVideoCall(h)&&b("MWMSThreadCapabilities.bs").canRtcVoiceCall(h);if(c===void 0)return 2;if(!h)return 2;if(d&&typeof e!=="string"){h=e.NAME;if(h==="User"||h==="Group"){if(a)return 1}else if(h==="Page")if(b("gkx")("1710932"))return 0;else return 2}if(!d)return 2;if(typeof e==="string")return 2;a=e.NAME;if(a==="Group")if(g&&Object.keys(f).length>=2)return 0;else return 2;else if(a==="User"&&!c&&b("bs_caml_obj").caml_notequal(e.VAL,b("CurrentUser").getID()))return 0;else return 2}f.useHook=a}),null);
__d("bs_js_null",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===null}function c(a){if(a!==null)return a;throw new Error("Js.Null.getExn")}function d(a,b){if(a!==null)return b(a);else return null}function e(a,b){if(a!==null)return b(a)}function g(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return null}var h=g;f.test=a;f.getExn=c;f.bind=d;f.iter=e;f.fromOption=g;f.from_opt=h}),null);
__d("ZenonCallsModelTypes",["immutable","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum")).Mirrored(["Disconnected","Precontacting","Contacting","Ringing","PendingApproval","Approved","FailedApproval","Connecting","Connected","Reconnecting","ProvisionalRinging"]);f.ZenonCallParticipantState=c;d=a.Mirrored(["Facebook","Instagram","Messenger","Guest","WhatsApp","Workplace"]);f.ZenonCallParticipantType=d;e=a.Mirrored(["New","Connecting","PendingApproval","Connected","Terminating","Terminated"]);f.ZenonCallState=e;b=a.Mirrored(["Unknown","IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout","UnexpectedEndOfCall","MaxAllowedParticipantsReached","MicrophonePermissionDenied","CameraPermissionDenied","SessionMigrated","RingMuted","TxAckTimeout"]);f.ZenonEndCallReason=b;c=a.Mirrored(["Unknown","CallsBlocked"]);f.ZenonEndCallSubreason=c;d=a.Mirrored(["PendingPeerFeedback","Declined","Cancelled","TimedOut","Accepted","InitiatedFromPeer"]);f.ZenonVideoEscalationStatus=d;e=a.Mirrored(["Started","Completed","Cancelled"]);f.ZenonGroupEscalationStatus=e}),null);
__d("MWMSStartPhoneCall.bs",["React","bs_js_null","bs_belt_Map","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs","MessagingThreadType","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_js_null").fromOption(b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(c).rtc_call_data)):null,e=b("useRTWebCometStartCallCallback")(),f=typeof a==="string"||a.NAME!=="Group"?b("MessagingThreadType").ONE_TO_ONE:b("MessagingThreadType").GROUP;c=g.useCallback(function(a){return function(b,c){return e({existingCall:d,mediaType:a?"video":"audio",thread:{id:b,type:f},trigger:c})}},[e,f,d]);var h;if(d!==null){a=d.call_state;if(a==null)h=void 0;else switch(a){case"AUDIO_GROUP_CALL":h=1;break;case"VIDEO_GROUP_CALL":h=0;break;default:h=void 0}}else h=void 0;return[c,h]}f.useMakeRTCCall=a}),null);
__d("MWUIRTCDisplayStatus.bs",["requireCond","cr:1621386"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1621386").useHook;f.useHook=a}),null);
__d("MWUIStartPhoneCall.bs",["requireCond","cr:1461099"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1461099").useMakeRTCCall;f.useMakeRTCCall=a}),null);
__d("MWThreadIsMuted_DEPRECATED.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a<=-1)return!0;else return a>Date.now()}f.getThreadIsMuted=a}),null);
__d("MWMSThreadName.bs",["React","bs_belt_Map","bs_belt_Option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").map(a,function(a){return a.name})},[d,c])}f.useHook=a}),null);
__d("MWUIThreadProfileLink.bs",["requireCond","cr:1610375"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1610375").useHook;f.useHook=a}),null);
__d("FBRTCConsoleLogger",["nullthrows","requireCond","Log","LogHistory","cr:1112656"],(function(a,b,c,d,e,f){"use strict";var g=null;a=function(){a.getInstance=function(){g||(g=new a());return g};function a(){this.$1=b("LogHistory").getInstance(a.MODULE_NAME)}var c=a.prototype;c.getLogHistory=function(){return this.$1};c.log=function(a,b,c,d,e){d===void 0&&(d="Console");e===void 0&&(e="DEBUG");e=" "+JSON.stringify({conferenceName:b,callID:c});this.$1.log(d||"Console",a+e);return this};return a}();e.exports=a;a.MODULE_NAME="webrtc"}),null);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}}),null);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744337");c=b("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e.exports=c}),null);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744338");c=b("FalcoLoggerInternal").create("rtc_web_user_actions",a);e.exports=c}),null);