if (self.CavalryLogger) { CavalryLogger.start_js(["oW8Jg"]); }

__d("CometUFICommentList_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},c=[b];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentList_feedback",selections:[a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},b],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:c,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComment_feedback"},{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIComposer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_feedback"}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentsProviderPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},b={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},g={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},i={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackID"},k={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},aa={defaultValue:null,kind:"LocalArgument",name:"first"},ba={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},ca={defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},da={defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},ea={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},fa={defaultValue:!0,kind:"LocalArgument",name:"isPaginating"},ga={defaultValue:null,kind:"LocalArgument",name:"last"},ha={defaultValue:null,kind:"LocalArgument",name:"scale"},ia={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},ja={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},ka={defaultValue:null,kind:"LocalArgument",name:"viewOption"},la=[{kind:"Variable",name:"id",variableName:"feedbackID"}],ma={kind:"Variable",name:"after",variableName:"after"},na={kind:"Variable",name:"before",variableName:"before"},oa={kind:"Variable",name:"first",variableName:"first"},pa={kind:"Variable",name:"last",variableName:"last"},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},m={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},n={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},o={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},p={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},q={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},r={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},s={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},t={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},u={kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},ra=[ma,na,{kind:"Variable",name:"comment_order",variableName:"viewOption"},m,n,o,p,q,r,s,oa,t,u,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},pa,{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],sa={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},va={kind:"TypeDiscriminator",abstractKey:"__isActor"},y={kind:"Variable",name:"scale",variableName:"scale"},z={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},A=[z],wa={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},y,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:A,storageKey:null},B=[{kind:"Literal",name:"height",value:24},y,{kind:"Literal",name:"width",value:24}],xa={alias:"profile_picture_depth_1",args:B,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:A,storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},D={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},H={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]},ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[w,l,x,va,wa,xa,{kind:"InlineFragment",selections:[C],type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[D,E,F,C,G,H],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[E,C],type:"Page",abstractKey:null}],storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},Aa={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},Ba={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[w,{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},J={kind:"Variable",name:"feed_location",variableName:"feedLocation"},K=[J],Ca={alias:null,args:K,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},Da={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},L=[l],Ea={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"private_reply_render",plural:!1,selections:[w,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"CometUFICommentPrivateReplyLinkRenderer_privateReplyCometRenderer",fragmentPropName:"privateReplyCometRenderer",kind:"ModuleImport"}],type:"PagesMessagingPrivateReplyCometRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"BizInboxCommentPrivateReplyLinkRenderer_privateReplyBizRenderer",fragmentPropName:"privateReplyBizRenderer",kind:"ModuleImport"}],type:"BizMessagingPrivateReplyRenderer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:L,storageKey:null}],storageKey:null},M={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},N=[M],O=[w,l],Fa={alias:null,args:N,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:O,storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Ga={alias:null,args:N,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[P,l],storageKey:null},Ha={alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[P],storageKey:null},Ia={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:L,storageKey:null};P={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[P,l,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'};var Ja={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null};M={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},M],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};var Ka={alias:null,args:N,kind:"ScalarField",name:"can_viewer_react",storageKey:null},La={alias:null,args:N,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},Ma={alias:null,args:null,concreteType:"PublicConversationsExperimentContext",kind:"LinkedField",name:"public_conversations_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_vote_ui_version",storageKey:null}],storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},Q=[v];H={kind:"InlineFragment",selections:[G,H],type:"User",abstractKey:null};m=[m,n,o,p,q,r,s,t,u,{kind:"Literal",name:"is_top_level",value:!1}];n={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[w,x,{alias:"profilePictureForReplyExpander",args:B,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:A,storageKey:null},l,H],storageKey:null},I,l],storageKey:null};o={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null};p={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:L,storageKey:null};q={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null};r={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null};s={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null};t={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null};u={alias:"sub_replies_count",args:[{kind:"Literal",name:"orderby",value:"sub_replies"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:Q,storageKey:'top_level_comments(orderby:"sub_replies")'};B={alias:null,args:null,kind:"ScalarField",name:"upvote_downvote_total",storageKey:null};var Oa={alias:null,args:null,kind:"ScalarField",name:"viewer_comment_vote_state",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null},Qa={alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"can_viewer_upvote_downvote",storageKey:null};F={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[w,x,l,{kind:"InlineFragment",selections:[F,G],type:"User",abstractKey:null}],storageKey:null}],storageKey:null};G={alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:Q,storageKey:null};var Ta={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},M,l,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:L,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[x,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},l],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best_profile",plural:!1,selections:O,storageKey:null},l],storageKey:null}],storageKey:null},R=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],S={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},U=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}];y=[y];z=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];var V={kind:"InlineFragment",selections:L,type:"Node",abstractKey:"__isNode"},W={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};U={alias:null,args:R,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[S,T,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[w,{alias:null,args:U,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},{alias:null,args:U,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"animation_uri",storageKey:null}],storageKey:'delight_asset(delight_surface:"COMMENT")'},l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[S,T,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[w,{alias:null,args:y,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:z,storageKey:null},V],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[S,T,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[S,T,v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[w,{kind:"InlineFragment",selections:[l,x],type:"User",abstractKey:null},V],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[w,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[l,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},l,E,{documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[w,C,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[W,D],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[W,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},V],storageKey:null},X,S,T],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[S,T,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},Y],type:"TextWithEntities",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};E={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null}],storageKey:null};D={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null};var Ua={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[l,{documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null};R={alias:"body_renderer",args:R,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[w,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var Va={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},Xa={alias:null,args:K,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[w,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment_author_user_signals_renderer",fragmentName:"CometUFICommentActorMultipleUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorMultipleUserSignalsRenderer",abstractKey:null}],storageKey:null},Z={kind:"Literal",name:"is_comet",value:!0},$=[Y];A={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupMembership",kind:"LinkedField",name:"author_membership",plural:!1,selections:[{alias:null,args:K,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"top_member_tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tag_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"member_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"small_icon",plural:!1,selections:A,storageKey:null}],storageKey:null},l],storageKey:null},{alias:"author_badge",args:[J,Z,{kind:"Literal",name:"whitelist",value:"ORIGINAL_POST_AUTHOR"}],concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_name",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_description",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:L,storageKey:null},{alias:null,args:[J,Z],kind:"ScalarField",name:"is_author_with_member_profile",storageKey:null},{documentName:"CometUFICommentActorLink_comment",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null};$={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null};Z={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null};var Ya={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},bb={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},cb={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null};J={alias:null,args:[J,{kind:"Literal",name:"supported",value:["CometUFICommentActorConstituentBadge","CometUFICommentActorVerifiedBadge","CometUFICommentActorGroupMemberBadge","CometUFICommentActorGroupMemberAuthorBadge","CometUFICommentActorSingleUserSignalRenderer","CometUFICommentActorAMAQuestionAnswerBadge","GeminiUFICommentActorDeactivatedAccountBadge","GeminiUFICommentActorBotBadge","GeminiUFICommentActorNonCoworkerBadge","CometUFICommentPostAuthorBadge"]}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[w,{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorGroupMemberBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorGroupMemberBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorGroupMemberAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorGroupMemberAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorSingleUserSignalRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorSingleUserSignalRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null}],storageKey:null};var db={alias:null,args:K,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},Y,{alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null}],storageKey:null};K={alias:null,args:K,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};var eb={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null};y={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{alias:null,args:y,concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:z,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null},{documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null};z={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:O,storageKey:null};O={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null};var fb={alias:null,args:[{kind:"Literal",name:"supported",value:["StarsElevatedCommentData"]}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[w,{kind:"InlineFragment",selections:[{documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:["StarsElevatedCommentData"])'};Y={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[Y,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[w,V],storageKey:null},X,S,T],storageKey:null}],storageKey:null};V={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null};X={alias:null,args:null,kind:"ScalarField",name:"is_subreply_parent_deleted",storageKey:null};S={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:L,storageKey:null};T={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null};var gb={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},hb={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},ib={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},jb={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]},kb=["feedback_source","focus_comment_id","comment_order"],lb={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h,i,j,k,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:la,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:[ma,na,oa,{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"isPaginating",variableName:"isPaginating"},pa,{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"},{kind:"Variable",name:"viewOption",variableName:"viewOption"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,c,h,d,e,f,g,i,j,k,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,a],kind:"Operation",name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:la,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[l,qa,{alias:null,args:ra,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[sa,ta,v,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[l,ua,ya,za,I,Aa,Ba,Ca,Da,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[l,Ea,Fa,Ga,Ha,Ia,P,Ja,M,Ka,La,Ma,Na,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:Q,storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[w],storageKey:null},{alias:null,args:N,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[va,x,wa,xa,H],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:L,storageKey:null},l],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnswerEventActionLinksCommentModuleRenderer",kind:"LinkedField",name:"work_answer_event_action_links_comment_renderer",plural:!1,selections:[{documentName:"CometUFICommentActionLinks_feedback_work_answer_event_action_links_comment_renderer",fragmentName:"GeminiUFIAMABroadcastAnswerActionLinks_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},qa,{alias:null,args:m,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[n,o,p,q,r,s,t,sa,ta,v,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[l,ua,ya,za,I,Aa,Ba,Ca,Da,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[l,Ea,Fa,Ga,Ha,Ia,P,Ja,M,Ka,La,Ma,Na,u],storageKey:null},B,Oa,Pa,Qa,Ra,Sa,F,G,Ta,U,E,D,C,W,Ua,R,Va,Wa,Xa,A,$,Z,Ya,Za,$a,ab,bb,cb,J,db,K,eb,y,z,O,fb,Y,V,X,S,T,w,gb],storageKey:null},hb],storageKey:null},ib,jb],storageKey:null},{alias:null,args:m,filters:kb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:lb},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},l],storageKey:null}]}],storageKey:null},B,Oa,Pa,Qa,Ra,Sa,F,G,Ta,U,E,D,C,W,Ua,R,Va,Wa,Xa,A,$,Z,Ya,Za,$a,ab,bb,cb,J,db,K,eb,y,z,O,fb,Y,V,S,T,w,gb,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[u],storageKey:null},X]}],storageKey:null},hb],storageKey:null},ib,{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[n]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[o,p,q,r,s,t,jb]}],storageKey:null},{alias:null,args:ra,filters:kb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:lb}],storageKey:null}]},params:{id:"3384995174931261",metadata:{},name:"CometUFICommentsProviderPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProviderReadCommentsPageQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},b={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},g={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},h={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},i={defaultValue:null,kind:"LocalArgument",name:"feedbackID"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},k={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},m={defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},n={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},o={defaultValue:null,kind:"LocalArgument",name:"last"},p={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},q={defaultValue:null,kind:"LocalArgument",name:"viewOption"},r=[{kind:"Variable",name:"id",variableName:"feedbackID"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},{kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},{kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},{kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},{kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},{kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[s],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:r,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[t],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,b,g,c,d,e,f,h,i,j,k,l,m,n,o,p,q],kind:"Operation",name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:r,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[t,s],storageKey:null}]},params:{id:"3550071361673516",metadata:{},name:"CometUFICommentsProviderReadCommentsPageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsHighlightedComments"};e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsMetadata"};e.exports=a}),null);
__d("CometUFICommentsProvider_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},d=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"UFI2CommentsProvider_commentsKey"},{defaultValue:!1,kind:"LocalArgument",name:"__false"},{defaultValue:!0,kind:"LocalArgument",name:"__true"},{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{kind:"RootArgument",name:"displayCommentsContextEnableComment"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet"},{kind:"RootArgument",name:"displayCommentsFeedbackContext"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{defaultValue:null,kind:"LocalArgument",name:"first"},{kind:"RootArgument",name:"focusCommentID"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch"},{defaultValue:!1,kind:"LocalArgument",name:"isPaginating"},{defaultValue:null,kind:"LocalArgument",name:"last"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},{kind:"RootArgument",name:"useDefaultActor"},{defaultValue:null,kind:"LocalArgument",name:"viewOption"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:["display_comments"]}]},name:"CometUFICommentsProvider_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},{alias:"display_comments",args:[{kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"__UFI2CommentsProvider_feedback_display_comments_ufi2_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[b,a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},c],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:[c],kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"__true"},{kind:"Variable",name:"includeNestedComments",variableName:"__false"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"}],kind:"FragmentSpread",name:"CometUFICommentList_feedback"}]}],storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_inlineSurveyConfig"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:d,storageKey:null},{alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},b,{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIFullThreadedReplyContainer_comment"}]},{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_comment"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsHighlightedComments",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIRepliesExpander_highlightedComments"}],storageKey:null}]}]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsMetadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]}]}]}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentListStateConfig",[],(function(a,b,c,d,e,f){"use strict";a=10;f.MIN_REPLIES_TO_SHOW_COLLAPSER=a}),null);
__d("CometUFICommentListState",["CometUFICommentListStateConfig","ErrorNormalizeUtils","FBLogger","UFI2ViewOption","gkx","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f._updaterDepth0_DO_NOT_USE=a;f._updaterDepth1_DO_NOT_USE=c;function g(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function h(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function i(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function j(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function k(a,c){var d=l(a,c);if(a.__type!=="INITIAL_STATE"&&c==null)throw b("unrecoverableViolation")("Expected state not to be null","ufi2");return d}function l(a,c){if(a.__type==="INITIAL_STATE"){var d,e=a.args,f=e.afterCount,k=e.beforeCount,l=e.canViewerComment,m=e.commentIDs,o=e.commentsByID,q=e.feedbackTargetID,u=e.hasNext,v=e.hasPrevious,w=e.hiddenCommentIDs,x=e.initiallyExpanded,y=e.isListVisible,z=e.pageSize,A=e.shouldRenderComposerPreemptively,B=e.topLevelFeedbackTargetID,C=e.totalCount;e=e.viewOption;d={backward:g({count:k,direction:"backward",error:null,hasMore:v,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.backward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:z,totalCount:C}),forward:g({count:f,direction:"forward",error:null,hasMore:u,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.forward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:z,totalCount:C})};var ga={};w.forEach(function(a){ga[a]="COLLAPSED"});w={canViewerComment:l,commentPages:m.length>0?[{__type:"COMMENTS_PAGE",afterCount:f,beforeCount:k,commentIDs:m,hasNext:u,hasPrevious:v,state:"VISIBLE"}]:[],commentsByID:o,commentsHiddenByViewer:ga,expanded:(z=c==null?void 0:c.expanded)!=null?z:x,feedbackTargetID:q,hasPaged:{backward:!1,forward:!1},isListVisible:y,locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:d,shouldComposerRenderWhenListIsExpanded:A,topLevelFeedbackTargetID:B,viewOption:e};if(a.args.depth===0)return babelHelpers["extends"]({},w,{__type:"DEPTH_0",status:{error:null,pending:!1}});l=a.args.minCountToShowCollapser;f=null;c!=null&&c.__type==="DEPTH_1"&&(f=c.repliesExpander);return babelHelpers["extends"]({},w,{__type:"DEPTH_1",repliesCollapser:h({count:m.length,expanded:x,minCountToShowCollapser:l}),repliesExpander:i({error:null,expanded:(k=c==null?void 0:c.expanded)!=null?k:x,isLoading:(o=(u=f)==null?void 0:(v=u.status)==null?void 0:v.pending)!=null?o:!1,totalCount:C})})}if(c==null)throw b("unrecoverableViolation")("Expected state not to be null","ufi2");switch(a.__type){case"COLLAPSE_LIST":z=a.args;q=z.depth;y=z.totalCount;if(c.expanded===!1)return c;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{expanded:!1});d=t.getCommentsCount({depth:q,state:c})===0;A=y>0&&d===!0;A&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},c,{expanded:!1,repliesCollapser:null,repliesExpander:i({error:c.repliesExpander?c.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:y})});case"DELETE_COMMENT":B=a.args;var D=B.commentID;e=B.depth;w=c.commentPages;m=c.locallyComposedCommentIDs;var E=c.newCommentsPage;if(w.length===0&&E.commentIDs.length===0)return c;l=E.commentIDs.filter(function(a){return a!==D});k=t.getVisibleCommentsCount({depth:e,state:c});x=l.length<E.commentIDs.length;if(x){var ha={};l.forEach(function(a){ha[a]=E.visibleStates[a]});f=babelHelpers["extends"]({},E,{commentIDs:l,visibleStates:ha});u=w.map(function(a){return j({direction:"backward",page:a})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,newCommentsPage:f});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");v=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,newCommentsPage:f,repliesCollapser:h({count:k-1,expanded:c.expanded,minCountToShowCollapser:v})})}var F=null,G=!1;o=w.map(function(a,b){if(G)return j({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==D});if(c.length<a.commentIDs.length){G=!0;F=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&F!=null&&b<F?j({direction:"forward",page:a}):a}).filter(Boolean);if(G===!1){b("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried deleting a comment that isnt present");return c}C=m.filter(function(a){return a!==D});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:o,locallyComposedCommentIDs:C});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:o,locallyComposedCommentIDs:C,repliesCollapser:h({count:k-1,expanded:c.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":z=a.args.commentIDs;var ia=c.commentsHiddenByViewer,H=babelHelpers["extends"]({},ia);z.forEach(function(a){var c=ia[a];if(c==null){b("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried expanding a comment that is not hidden");return}c==="COLLAPSED"&&(H[a]="EXPANDED")});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:H}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:H});case"EXPAND_LIST":q=a.args;d=q.depth;A=q.totalCount;y=c.commentPages;B=c.newCommentsPage;if(c.expanded===!0&&c.shouldComposerRenderWhenListIsExpanded===!0)return c;if(d!==0&&t.isRepliesExpanderLoading({depth:d,state:c}))return c;if(A===0)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});e=t.getVisibleCommentsCount({depth:d,state:c});if(e===0){x=t.getCommentsCount({depth:d,state:c})===0;if(b("gkx")("1567108")?B.commentIDs.length===0&&y.length===0:x)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:i({error:null,expanded:!1,isLoading:!0,totalCount:A})});l=y.length>0?y[0]:null;u=l!=null?[babelHelpers["extends"]({},l,{state:"VISIBLE"})].concat(y.slice(1)):y;var ja={};B.commentIDs.forEach(function(a){ja[a]="VISIBLE"});f=babelHelpers["extends"]({},B,{visibleStates:ja});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,expanded:!0,newCommentsPage:f,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");v=(l!=null?l.commentIDs.length:0)+B.commentIDs.length;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,expanded:!0,newCommentsPage:f,repliesCollapser:h({count:v,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:h({count:e,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"FAIL_COMMENT_PAGINATION":w=a.args;m=w.depth;o=w.direction;C=w.error;if(o==="forward"&&m!==0&&c.__type==="DEPTH_1"&&t.isRepliesExpanderLoading({depth:m,state:c}))return c.repliesExpander!=null?babelHelpers["extends"]({},c,{__type:"DEPTH_1",repliesExpander:babelHelpers["extends"]({},c.repliesExpander,{status:babelHelpers["extends"]({},c.repliesExpander.status,{error:C,pending:!1})})}):c;k=t.isPagerLoading({depth:m,direction:o,state:c})===!0;if(k===!1)return c;z=c.pagers.backward;q=c.pagers.forward;d=babelHelpers["extends"]({},c.pagers,{backward:o==="backward"&&z!=null?babelHelpers["extends"]({},z,{status:{error:C,pending:!1}}):z,forward:o==="forward"&&q!=null?babelHelpers["extends"]({},q,{status:{error:C,pending:!1}}):q});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",pagers:d});else return babelHelpers["extends"]({},c,{__type:"DEPTH_1",pagers:d});case"HIDE_COMMENTS":x=a.args.commentIDs;A=c.commentsHiddenByViewer;var I=babelHelpers["extends"]({},A);x.forEach(function(a){I[a]="LOCALLY_HIDDEN"});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:I}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:I});case"RECEIVE_COMMENTS_PAGE":y=c.commentPages;l=c.locallyComposedCommentIDs;var J=c.newCommentsPage;B=c.pagers;u=a.args;var K=u.commentIDs;f=u.depth;v=u.direction;e=u.feedbackTargetID;w=u.hiddenCommentIDs;m=u.pageSize;var L=t.isPagerLoading({depth:f,direction:v,state:c})===!0;k=f!==0&&t.isRepliesExpanderLoading({depth:f,state:c});var ka=f===0&&!L;z=J.commentIDs.filter(function(a){return!(K.includes(a)&&(!ka||J.visibleStates[a]==="HIDDEN"))});o=l.filter(function(a){return!K.includes(a)});var M={};z.forEach(function(a){M[a]=J.visibleStates[a]});C=babelHelpers["extends"]({},J,{commentIDs:z,visibleStates:M});var la=new Set(y.reduce(function(a,b){return a.concat(b.commentIDs)},[]).concat(ka?z:[]));q=K.filter(function(a){return!la.has(a)});v==="forward"&&a.args.hasNext===!0&&a.args.afterCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that has_next_page but after_count is 0");a.args.direction==="forward"&&a.args.hasNext===!1&&a.args.afterCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that does NOT have next_page but after_count is > 0");a.args.direction==="backward"&&a.args.hasPrevious===!0&&a.args.beforeCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that has_previous_page but before_count is 0");a.args.direction==="backward"&&a.args.hasPrevious===!1&&a.args.beforeCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that does NOT have previous_page but before_count is > 0");d=c.shouldComposerRenderWhenListIsExpanded===!0||L===!0||k===!0;var N=babelHelpers["extends"]({},c.commentsHiddenByViewer);w.forEach(function(a){Object.prototype.hasOwnProperty.call(N,a)||(N[a]="COLLAPSED")});A=la.size;if(f!==0&&a.args.direction==="forward"&&A===0){x=a.args;u=x.afterCount;l=x.hasNext;v={backward:null,forward:g({count:u,direction:"forward",error:null,hasMore:l,isLoading:!1,pageSize:m})};var O=c.expanded||k?"VISIBLE":"HIDDEN";e={__type:"COMMENTS_PAGE",afterCount:u,beforeCount:z.length,commentIDs:q,hasNext:l,hasPrevious:!1,state:O};z.forEach(function(a){M[a]=O});C=babelHelpers["extends"]({},J,{commentIDs:z,visibleStates:M});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");if(c.__type!=="DEPTH_1")throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");w=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e],commentsHiddenByViewer:N,expanded:O==="VISIBLE",locallyComposedCommentIDs:o,newCommentsPage:C,pagers:v,repliesCollapser:h({count:q.length,expanded:k,minCountToShowCollapser:w}),repliesExpander:k?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:d})}A=y[0];x=y[y.length-1];u=t.getVisibleCommentsCount({depth:f,state:c});if(a.args.direction==="backward"){if(L&&A!=null&&A.state!=="VISIBLE")throw b("unrecoverableViolation")("Expected first available page to be visible if backward pager was loading when backward comments were received","ufi2");l=a.args;e=l.beforeCount;v=l.hasPrevious;w=e<=z.length;w&&(M={},C.commentIDs.forEach(function(a){M[a]=L?"VISIBLE":"HIDDEN"}),C=babelHelpers["extends"]({},C,{visibleStates:M}));f=e-C.commentIDs.length-o.length;l=babelHelpers["extends"]({},B,{backward:L?g({count:f,direction:"backward",error:null,hasMore:v&&!w,isLoading:!1,pageSize:m}):B.backward});A={__type:"COMMENTS_PAGE",afterCount:((z=A==null?void 0:A.afterCount)!=null?z:0)+((z=A==null?void 0:(f=A.commentIDs)==null?void 0:f.length)!=null?z:0),beforeCount:e,commentIDs:q,hasNext:!0,hasPrevious:v,state:L||k?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[A].concat(y),commentsHiddenByViewer:N,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,shouldComposerRenderWhenListIsExpanded:d});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");f=a.args.minCountToShowCollapser;z=k?!0:c.expanded;e=u+(A.state==="VISIBLE"?q.length:0)+(w&&L?C.commentIDs.length:0);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[A].concat(y),commentsHiddenByViewer:N,expanded:z,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,repliesCollapser:h({count:e,expanded:z,minCountToShowCollapser:f}),repliesExpander:k?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:d})}if(L&&x!=null&&x.state!=="VISIBLE")throw b("unrecoverableViolation")("Expected last available page to be visible if forward pager was loading when forward comments were received","ufi2");v=a.args;w=v.afterCount;A=v.hasNext;l=babelHelpers["extends"]({},B,{forward:L?g({count:w,direction:"forward",error:null,hasMore:A,isLoading:!1,pageSize:m}):B.forward});v={__type:"COMMENTS_PAGE",afterCount:w,beforeCount:y.length===0?C.commentIDs.length:((e=x==null?void 0:x.beforeCount)!=null?e:0)+((f=x==null?void 0:(z=x.commentIDs)==null?void 0:z.length)!=null?f:0),commentIDs:q,hasNext:A,hasPrevious:!0,state:L||k?"VISIBLE":"HIDDEN"};var P=0;m=k?y.map(function(a){a.state==="HIDDEN"&&(P+=a.commentIDs.length);return babelHelpers["extends"]({},a,{state:"VISIBLE"})}):y;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[].concat(m,[v]),commentsHiddenByViewer:N,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,shouldComposerRenderWhenListIsExpanded:d});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");B=a.args.minCountToShowCollapser;w=v.state==="VISIBLE"?u+P+q.length:u+P;e=k?!0:c.expanded;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[].concat(m,[v]),commentsHiddenByViewer:N,expanded:e,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,repliesCollapser:h({count:w,expanded:e,minCountToShowCollapser:B}),repliesExpander:k?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:d});case"RECEIVE_NEW_COMMENT":x=a.args;var Q=x.commentID;z=x.commentsComposedByThisUFI;f=x.depth;A=x.pageSize;y=x.prevTotalCount;q=x.totalCount;u=c.commentPages;m=c.commentsByID;v=c.expanded;o=c.locallyComposedCommentIDs;var R=c.newCommentsPage;C=c.pagers;l=c.viewOption;w=t.getCommentsCount({depth:f,state:c})===0;e=Object.prototype.hasOwnProperty.call(R.visibleStates,Q)||u.some(function(a){return a.commentIDs.includes(Q)});if(e)return c;B=m[Q]!=null&&z!=null&&m[Q].client_id!=null&&z.has(m[Q].client_id);var S=!b("UFI2ViewOption").shouldDisplayInReverse(l)&&c.__type!=="DEPTH_0";k=c.repliesExpander!=null?babelHelpers["extends"]({},c.repliesExpander,{count:Math.min(c.repliesExpander.count+1,q)}):null;if(u.length===0){x=babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(d={},d[Q]=v||B||f!==0&&w&&y===0?"VISIBLE":"HIDDEN",d))});e=B?[Q].concat(o):o;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:e,newCommentsPage:x});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");z=a.args.minCountToShowCollapser;m=w&&y===0?!0:v;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:m,locallyComposedCommentIDs:e,newCommentsPage:x,repliesCollapser:h({count:x.commentIDs.length,expanded:v,minCountToShowCollapser:z}),repliesExpander:k,shouldComposerRenderWhenListIsExpanded:!0})}l=u[0];d=p(c);w=f===0&&t.hasMoreInDirection({depth:f,direction:"forward",state:c,totalCount:q})&&!c.commentPages.some(function(a){return a.state==="VISIBLE"});if(!w&&B){var T=!1,U=babelHelpers["extends"]({},R.visibleStates),ma=[],V=[];m=(S?[].concat(u).reverse():u).map(function(a){if(!T&&a.state==="VISIBLE"){T=!0;R.commentIDs.forEach(function(a){U[a]==="VISIBLE"&&!s(c)?(delete U[a],V.push(a)):ma.push(a)});return babelHelpers["extends"]({},a,{commentIDs:S?[].concat(a.commentIDs,V.reverse(),[Q]):[Q].concat(V,a.commentIDs)})}return T?babelHelpers["extends"]({},a,{afterCount:S?a.afterCount+1+V.length:a.afterCount,beforeCount:S?a.beforeCount:a.beforeCount+1+V.length}):a});e=babelHelpers["extends"]({},R,{commentIDs:ma,visibleStates:U});x=[Q].concat(o);if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:m,locallyComposedCommentIDs:x,newCommentsPage:e});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");z=a.args.minCountToShowCollapser;var W=t.getVisibleCommentsCount({depth:f,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:S?m.reverse():m,locallyComposedCommentIDs:x,newCommentsPage:e,repliesCollapser:h({count:W+1,expanded:v,minCountToShowCollapser:z}),repliesExpander:k,shouldComposerRenderWhenListIsExpanded:!0})}else if(w){x={commentPages:u.map(function(a,b){return b===0?babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0}):a}),locallyComposedCommentIDs:B?[Q].concat(o):o,newCommentsPage:babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(m={},m[Q]="VISIBLE",m))})};return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,x,{__type:"DEPTH_0"}):babelHelpers["extends"]({},c,x,{__type:"DEPTH_1"})}else if(d&&aa(c)){e=u.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});z=babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(W={},W[Q]="VISIBLE",W))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,newCommentsPage:z});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");w=a.args.minCountToShowCollapser;B=t.getVisibleCommentsCount({depth:f,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,newCommentsPage:z,repliesCollapser:h({count:B+1,expanded:v,minCountToShowCollapser:w}),repliesExpander:k,shouldComposerRenderWhenListIsExpanded:!0})}else if(d&&R.commentIDs.length===0){o=C.backward!=null?babelHelpers["extends"]({},C,{backward:babelHelpers["extends"]({},C.backward,{count:Math.min(C.backward.count+1,A)})}):C;m=l.commentIDs.length<A;if(m){x=[babelHelpers["extends"]({},l,{commentIDs:[Q].concat(l.commentIDs)})].concat(u.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:x,pagers:o}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:x,pagers:o,repliesExpander:k})}W=[{__type:"COMMENTS_PAGE",afterCount:l.afterCount+l.commentIDs.length,beforeCount:0,commentIDs:[Q],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},l,{beforeCount:1,hasPrevious:!0})].concat(u.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:W,pagers:o}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:W,pagers:o,repliesExpander:k})}else{f=q<=y;e=f?u:u.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});z=C.backward!=null?babelHelpers["extends"]({},C,{backward:babelHelpers["extends"]({},C.backward,{count:f?C.backward.count:Math.min(C.backward.count+1,A)})}):C;v=babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(B={},B[Q]="HIDDEN",B))});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,newCommentsPage:v,pagers:z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,newCommentsPage:v,pagers:z,repliesExpander:k})}case"RECEIVE_REALTIME_COMMENT":var X=a.args.commentID;w=Object.prototype.hasOwnProperty.call(c.newCommentsPage.visibleStates,X)||c.commentPages.some(function(a){return a.commentIDs.includes(X)});d=s(c);m=ea(c);x=fa(c);if(!b("UFI2ViewOption").shouldDisplayInReverse(c.viewOption)&&!d&&!m&&!x){b("recoverableViolation")("Unable to receive realtime comment for non chronological ordering mode "+((l=c.viewOption)!=null?l:"(null ordering mode)"),"ufi2");return c}if(w)return c;W=c.commentsByID[X];if((c.viewOption==="SUB_REPLIES"||c.viewOption==="CHRONO_SUB_REPLIES"||c.viewOption==="RANKED_SUB_REPLIES")&&c.__type==="DEPTH_1"&&((o=W==null?void 0:W.threading_depth)!=null?o:0)>1){q=babelHelpers["extends"]({},c.commentsByID);delete q[X];return babelHelpers["extends"]({},c,{commentsByID:q})}y=t.getCommentsCount({depth:a.args.depth,state:c})===0;u=r(c).length===0;f=!a.args.hideCommentInPager&&y&&c.__type==="DEPTH_1";A=u&&!c.expanded;C=a.args.hideCommentInPager||!c.expanded&&!f||!y&&!aa(c)||d&&!y&&!ca(c);B=!A&&C===!0&&!(u&&c.pagers.forward!=null)&&!d;e=!A&&C&&!B;var na=d;m={canViewerComment:c.canViewerComment,commentPages:c.commentPages.map(function(a){return na?babelHelpers["extends"]({},a,{afterCount:a.afterCount+1,hasNext:!0}):babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})}),commentsByID:c.commentsByID,commentsHiddenByViewer:c.commentsHiddenByViewer,expanded:c.expanded||f,feedbackTargetID:c.feedbackTargetID,hasPaged:c.hasPaged,locallyComposedCommentIDs:c.locallyComposedCommentIDs,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:na?[].concat(c.newCommentsPage.commentIDs,[X]):[X].concat(c.newCommentsPage.commentIDs),visibleStates:babelHelpers["extends"]({},c.newCommentsPage.visibleStates,(v={},v[X]=C?"HIDDEN":"VISIBLE",v))}),pagers:C?{backward:B?{__type:"PAGER",count:((m=(z=c.pagers)==null?void 0:(k=z.backward)==null?void 0:k.count)!=null?m:0)+1,direction:"backward",status:{error:(w=(x=c.pagers)==null?void 0:(l=x.backward)==null?void 0:l.status.error)!=null?w:null,pending:(q=(W=c.pagers)==null?void 0:(o=W.backward)==null?void 0:o.status.pending)!=null?q:!1}}:c.pagers.backward,forward:e?{__type:"PAGER",count:((A=(y=c.pagers)==null?void 0:(u=y.forward)==null?void 0:u.count)!=null?A:0)+1,direction:"forward",status:{error:(v=(d=c.pagers)==null?void 0:(f=d.forward)==null?void 0:f.status.error)!=null?v:null,pending:(k=(B=c.pagers)==null?void 0:(z=B.forward)==null?void 0:z.status.pending)!=null?k:!1}}:c.pagers.forward}:c.pagers,shouldComposerRenderWhenListIsExpanded:c.shouldComposerRenderWhenListIsExpanded,topLevelFeedbackTargetID:c.topLevelFeedbackTargetID,viewOption:c.viewOption};if(c.__type==="DEPTH_1"){return babelHelpers["extends"]({},c,m,{repliesCollapser:h({count:t.getVisibleCommentsCount({depth:a.args.depth,state:c})+(C?0:1),expanded:c.expanded,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER}),repliesExpander:i({error:(w=(x=c.repliesExpander)==null?void 0:(l=x.status)==null?void 0:l.error)!=null?w:null,expanded:c.expanded,isLoading:(q=(W=c.repliesExpander)==null?void 0:(o=W.status)==null?void 0:o.pending)!=null?q:!1,totalCount:a.args.totalCount})})}return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,m):c;case"RECEIVE_REFETCH_LIST":e=a.args.depth;y=c.feedbackTargetID;u=c.topLevelFeedbackTargetID;A=c.viewOption;if(e!==0)throw b("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(!t.isListLoading({depth:e,state:c}))throw b("unrecoverableViolation")("Expected list to be loading","ufi2");d=n.getInitialState({args:babelHelpers["extends"]({},a.args,{depth:0,feedbackTargetID:y,initiallyExpanded:!0,topLevelFeedbackTargetID:u,viewOption:A}),state:null});if(d.__type!=="DEPTH_0")throw b("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");return babelHelpers["extends"]({},d,{__type:"DEPTH_0",expanded:c.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":f=a.args;v=f.depth;B=f.direction;z=f.pageSize;k=c.commentPages;C=c.expanded;x=c.newCommentsPage;l=c.pagers;if(!C)throw b("unrecoverableViolation")("Expected list to be expanded","ufi2");if(t.isPagerLoading({depth:v,direction:B,state:c}))throw b("unrecoverableViolation")("Cant request page if pager is loading","ufi2");if(v===0&&t.isListLoading({depth:v,state:c}))throw b("unrecoverableViolation")("Cant request page if list is loading","ufi2");if(v!==0&&t.isRepliesExpanderLoading({depth:v,state:c}))throw b("unrecoverableViolation")("Cant request page if replies expander is loading","ufi2");if(B==="backward"){w=k.findIndex(function(a){return a.state==="VISIBLE"});W=-1;o=p(c)&&da(c,"HIDDEN");if(w>-1){q=k[w];q.hasPrevious===!1&&b("FBLogger")("ufi2").mustfix("CometUFICommentList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available, feedbackID: %s",c.topLevelFeedbackTargetID);if(q.hasPrevious!==!0)throw b("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");W=w-1}else w===-1&&k.length>0&&!o&&(W=0);m=k[W];if(m&&m.state==="HIDDEN"){e=[].concat(k);e[W]=babelHelpers["extends"]({},m,{state:"VISIBLE"});y=babelHelpers["extends"]({},l,{backward:g({count:m.beforeCount,direction:"backward",error:null,hasMore:m.hasPrevious,isLoading:!1,pageSize:z})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:y,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");u=a.args.minCountToShowCollapser;A=t.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:y,repliesCollapser:h({count:A+m.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:u}),shouldComposerRenderWhenListIsExpanded:!0})}else if(o){var oa={};x.commentIDs.forEach(function(a){oa[a]="VISIBLE"});d=babelHelpers["extends"]({},x,{visibleStates:oa});f=babelHelpers["extends"]({},l,{backward:null});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:d,pagers:f,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");C=a.args.minCountToShowCollapser;B=t.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:d,pagers:f,repliesCollapser:h({count:B+d.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:C}),shouldComposerRenderWhenListIsExpanded:!0})}else{q=babelHelpers["extends"]({},l,{backward:l.backward&&babelHelpers["extends"]({},l.backward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:q}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:q})}}w=[].concat(k).reverse().findIndex(function(a){return a.state==="VISIBLE"});W=-1;if(w>-1){e=k.length-1-w;y=k[e];if(y.hasNext!==!0)throw b("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");W=e+1}else w===-1&&k.length>0&&(W=k.length-1);A=k[W];if(A&&A.state==="HIDDEN"){m=[].concat(k);m[W]=babelHelpers["extends"]({},A,{state:"VISIBLE"});u=babelHelpers["extends"]({},l,{forward:g({count:A.afterCount,direction:"forward",error:null,hasMore:A.hasNext,isLoading:!1,pageSize:z})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:m,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:u,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");o=a.args.minCountToShowCollapser;f=t.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:m,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:u,repliesCollapser:h({count:f+A.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:o}),shouldComposerRenderWhenListIsExpanded:!0})}else if(s(c)&&ba(c)&&da(c,"HIDDEN")&&c.__type==="DEPTH_0"){var pa={};x.commentIDs.forEach(function(a){pa[a]="VISIBLE"});return babelHelpers["extends"]({},c,{hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),newCommentsPage:babelHelpers["extends"]({},x,{visibleStates:pa}),pagers:babelHelpers["extends"]({},l,{forward:null}),shouldComposerRenderWhenListIsExpanded:!0})}else{B=babelHelpers["extends"]({},l,{forward:l.forward&&babelHelpers["extends"]({},l.forward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:B}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:B})}case"REQUEST_REFETCH_LIST":d=a.args.depth;if(d!==0||c.__type!=="DEPTH_0")throw b("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(t.isListLoading({depth:d,state:c}))throw b("unrecoverableViolation")("Expected list to be loading","ufi2");return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":C=a.args.canViewerComment;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",canViewerComment:C}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",canViewerComment:C});case"SET_COMMENTS_BY_ID":q=a.args.commentsByID;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsByID:q}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsByID:q});case"SET_SERVER_COMMENT_ID":y=a.args;var Y=y.clientCommentID,Z=y.serverCommentID;e=c.commentPages;w=c.locallyComposedCommentIDs;k=c.newCommentsPage;W=k.commentIDs.indexOf(Y);z=W!==-1;v=e.some(function(a){return a.commentIDs.some(function(a){return a===Y})});if(!z&&!v)return c;m=k.commentIDs.some(function(a){return a===Z});u=e.filter(function(a){return a.state==="HIDDEN"}).some(function(a){return a.commentIDs.some(function(a){return a===Z})});f=e.filter(function(a){return a.state==="VISIBLE"}).some(function(a){return a.commentIDs.some(function(a){return a===Z})});A=c;if(u){o=e.map(function(a){var b=a.commentIDs.indexOf(Z);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});A.__type==="DEPTH_0"?A=babelHelpers["extends"]({},A,{__type:"DEPTH_0",commentPages:o}):A=babelHelpers["extends"]({},A,{__type:"DEPTH_1",commentPages:o})}if(m){x=w.filter(function(a){return a===Y});l=k.commentIDs.filter(function(a){return a!==Y});B=babelHelpers["extends"]({},k.visibleStates);delete B[Y];d=babelHelpers["extends"]({},k,{commentIDs:l,visibleStates:B});A.__type==="DEPTH_0"?A=babelHelpers["extends"]({},A,{__type:"DEPTH_0",locallyComposedCommentIDs:x,newCommentsPage:d}):A=babelHelpers["extends"]({},A,{__type:"DEPTH_1",locallyComposedCommentIDs:x,newCommentsPage:d})}if(z){C=babelHelpers["extends"]({},k.visibleStates);if(f||m){q=k.commentIDs.filter(function(a){return a!==Y});delete C[Y];y=babelHelpers["extends"]({},k,{commentIDs:q,visibleStates:C});A.__type==="DEPTH_0"?A=babelHelpers["extends"]({},A,{__type:"DEPTH_0",newCommentsPage:y}):A=babelHelpers["extends"]({},A,{__type:"DEPTH_1",newCommentsPage:y})}else{W=k.commentIDs.map(function(a){return a===Y?Z:a});C[Z]=C[Y];delete C[Y];u=babelHelpers["extends"]({},k,{commentIDs:W,visibleStates:C});A.__type==="DEPTH_0"?A=babelHelpers["extends"]({},A,{__type:"DEPTH_0",newCommentsPage:u}):A=babelHelpers["extends"]({},A,{__type:"DEPTH_1",newCommentsPage:u})}}if(v)if(f||m){o=e.map(function(a){var b=a.commentIDs.indexOf(Y);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});A.__type==="DEPTH_0"?A=babelHelpers["extends"]({},A,{__type:"DEPTH_0",commentPages:o}):A=babelHelpers["extends"]({},A,{__type:"DEPTH_1",commentPages:o})}else{l=e.map(function(a){var b=a.commentIDs.indexOf(Y);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),[Z],a.commentIDs.slice(b+1))})});A.__type==="DEPTH_0"?A=babelHelpers["extends"]({},A,{__type:"DEPTH_0",commentPages:l}):A=babelHelpers["extends"]({},A,{__type:"DEPTH_1",commentPages:l})}B=w.map(function(a){return a===Y?Z:a});return A.__type==="DEPTH_0"?babelHelpers["extends"]({},A,{__type:"DEPTH_0",locallyComposedCommentIDs:B}):babelHelpers["extends"]({},A,{__type:"DEPTH_1",locallyComposedCommentIDs:B});case"UNHIDE_COMMENTS":x=a.args.commentIDs;d=c.commentsHiddenByViewer;var $=babelHelpers["extends"]({},d);x.forEach(function(a){delete $[a]});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:$}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:$});case"INITIAL_STATE":default:a.__type;throw b("unrecoverableViolation")("CometUFICommentListState: Invalid action type: "+a.__type,"ufi2")}}function m(a,c){try{var d=k(a,c);return d}catch(f){d=b("ErrorNormalizeUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";b("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("CometUFICommentListState.updater(...): "+d);b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!c)throw f;return c}}function a(a,b){return k(a,b)}function c(a,b){return k(a,b)}var n={collapseList:function(a){var b=a.args;a=a.state;return m({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return m({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return m({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return m({__type:"EXPAND_LIST",args:b},a)},failCommentPagination:function(a){var b=a.args;a=a.state;return m({__type:"FAIL_COMMENT_PAGINATION",args:b},a)},getInitialState:function(a){var b=a.args;a=a.state;return m({__type:"INITIAL_STATE",args:b},a)},hideComments:function(a){var b=a.args;a=a.state;return m({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRealtimeComment:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_REALTIME_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return m({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return m({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return m({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return m({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return m({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return m({__type:"UNHIDE_COMMENTS",args:b},a)}};f.StateUpdaters=n;function o(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function p(a){var b=a.commentPages,c=a.newCommentsPage;b=b[0];if(!b)return c.commentIDs.length>0;return s(a)?b.beforeCount===0:b.beforeCount-c.commentIDs.length===0}function aa(a){var b=a.commentPages[0];b=(b==null||b.state==="VISIBLE")&&p(a);return b&&(s(a)||q(a,"VISIBLE"))}function ba(a){var b=a.commentPages,c=a.newCommentsPage;b=[].concat(b).reverse()[0];if(!b)return c.commentIDs.length>0;return s(a)?b.afterCount-c.commentIDs.length===0:b.afterCount===0}function ca(a){var b=a.commentPages;b=[].concat(b).reverse()[0];b=(b==null||b.state==="VISIBLE")&&ba(a);return b&&(!s(a)||q(a,"VISIBLE"))}function da(a,b){var c=a.newCommentsPage;return c.commentIDs.some(function(a){return c.visibleStates[a]===b})}function q(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function r(a){var c=a.__type,d=a.commentPages,e=a.newCommentsPage,f=a.viewOption;d=d.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]);var g=e.commentIDs.filter(function(a){return e.visibleStates[a]==="VISIBLE"});if(s(a))return[].concat(d,g);return c==="DEPTH_1"&&!b("UFI2ViewOption").shouldDisplayInReverse(f)?[].concat(d,g.reverse()):[].concat(g,d)}function s(a){return a.__type==="DEPTH_0"&&a.viewOption==="MOST_VOTED"&&b("gkx")("1445059")}function ea(a){return a.__type==="DEPTH_0"&&a.viewOption==="ANSWERED"&&b("gkx")("1762503")}function fa(a){return a.__type==="DEPTH_0"&&a.viewOption==="UNANSWERED"&&b("gkx")("1762503")}var t={canFetchInDirection:function(a){var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=t.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&t.isListLoading({depth:b,state:d});if(f)return!1;f=b!==0&&t.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=t.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&q(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){var c=a.depth,d=a.direction,e=a.pageSize;a=a.state;d=t.getPagerCount({depth:c,direction:d,state:a});if(d!=null)return d;if(c!==0){if(e==null)throw b("unrecoverableViolation")("CometUFICommentListState.getCountForFetch(...): Expected pageSize to compute fetch count for expanding replies","ufi2");d=t.getRepliesExpanderCount({depth:c,state:a});if(d!=null)return Math.min(d,e)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){a=a.state;var c=a.commentsByID,d=a.locallyComposedCommentIDs,e=a.newCommentsPage,f=a.viewOption;a=r(a);var g=a.map(function(a){var d=c[a];if(!d){b("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find comment locally: %s",a);return null}return d}).filter(Boolean);a.length>0&&g.length===0&&b("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return!d.length&&e.commentIDs.length>0&&b("UFI2ViewOption").shouldDisplayInReverse(f)?g.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):g},getVisibleCommentsCount:function(a){a=a.state;return r(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=t.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return t.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return t.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=o({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){var b=a.direction,c=a.state;a=a.totalCount;c=o({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return t.getVisibleComments({depth:b,state:a}).length>0},isComposerVisible:function(a){a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b!==0||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null},pagerHasRealtimeComments:function(a){var b=a.direction;a=a.state;var c=Object.values(a.newCommentsPage.visibleStates).find(function(a){return a==="HIDDEN"})!=null;return b==="forward"?a.pagers.backward==null?c:!1:c}};f.Selectors=t}),null);
__d("CometUFICommentListGetDerivedStateFromProps",["CometUFICommentListState","CometUFICommentListStateConfig","UserActivity","unrecoverableViolation","UFI2UserActivityIdleTimeout"],(function(a,b,c,d,e,f){"use strict";f.getCanViewerComment=g;f.getDerivedStateFromProps=a;f.getInitialState=h;function g(a){var b=a.depth,c=a.feedback,d=a.topLevelCommentFeedback;a=a.topLevelFeedback;return b>1?(d==null?void 0:d.can_viewer_comment)===!0&&(a==null?void 0:a.can_viewer_comment)===!0:b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,c){var d=c.listState;c=c.mirroredProps;if(c===a)return{listState:d,mirroredProps:c};var e=c.connectionGeneration,f=c.feedback,i=c.isRefetchingConnection,j=c.topLevelCommentFeedback,k=c.topLevelFeedback;c=c.totalCount;var l=a.commentIDs,m=a.commentsByID,n=a.connectionGeneration,o=a.connectionPageInfo,p=a.depth,q=a.feedback,r=a.hiddenCommentIDs,s=a.isRefetchingConnection,t=a.shouldRenderComposerPreemptively,u=a.topLevelCommentFeedback,v=a.topLevelFeedback,w=a.totalCount,x=a,y=o.afterCount,z=o.beforeCount,A=o.hasNext,B=o.hasPrevious;o=o.pageSize;var C=d;C=b("CometUFICommentListState").StateUpdaters.setCommentsByID({args:{commentsByID:m,depth:p},state:C});if(p===0&&b("CometUFICommentListState").Selectors.isListLoading({depth:p,state:C})){i=i===!0&&s===!1;i&&(C=b("CometUFICommentListState").StateUpdaters.receiveRefetchList({args:{afterCount:y,beforeCount:z,canViewerComment:g({depth:p,feedback:q,topLevelCommentFeedback:u,topLevelFeedback:v}),commentIDs:l,commentsByID:m,depth:p,hasNext:A,hasPrevious:B,hiddenCommentIDs:r,pageSize:o,shouldRenderComposerPreemptively:t,totalCount:w},state:C}));return{listState:C,mirroredProps:x}}if(n>e){C=h(x,d);return{listState:C,mirroredProps:x}}s=a.commentIDsUpdatedToServerIDs;i=a.locallyComposedCommentIds;y=a.newlyCreatedCommentIDs;z=a.newlyHiddenCommentIDs;l=a.newlyUnhiddenCommentIDs;m=a.realtimeCommentIds;A=a.removedCommentIDs;B=g({depth:p,feedback:f,topLevelCommentFeedback:j,topLevelFeedback:k});r=g({depth:p,feedback:q,topLevelCommentFeedback:u,topLevelFeedback:v});s.length>0&&s.forEach(function(a){var c=a.clientID;a=a.serverID;C=b("CometUFICommentListState").StateUpdaters.setServerCommentID({args:{clientCommentID:c,depth:p,serverCommentID:a},state:C})});B!==r&&(C=b("CometUFICommentListState").StateUpdaters.setCanViewerComment({args:{canViewerComment:r,depth:p},state:C}));z.length>0&&(C=b("CometUFICommentListState").StateUpdaters.hideComments({args:{commentIDs:z,depth:p},state:C}));l.length>0&&(C=b("CometUFICommentListState").StateUpdaters.unhideComments({args:{commentIDs:l,depth:p},state:C}));if(y.length>0){o=a.connectionPageInfo.pageSize;for(var t=y.length-1;t>=0;t--){n=y[t];if(m.has(n)){C=b("CometUFICommentListState").StateUpdaters.receiveRealtimeComment({args:{commentID:n,depth:p,hideCommentInPager:!b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))||!a.isUFIVisible.current,totalCount:w},state:C});continue}p===0?C=b("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:n,commentsComposedByThisUFI:i,depth:p,pageSize:o,prevTotalCount:c,totalCount:w},state:C}):C=b("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:n,commentsComposedByThisUFI:i,depth:p,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:o,prevTotalCount:c,totalCount:w},state:C})}}else A.length>0&&A.forEach(function(a){p===0?C=b("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:p},state:C}):C=b("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:p,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER},state:C})});return{listState:C,mirroredProps:x}}function h(a,c){var d=a.commentIDs,e=a.commentsByID,f=a.connectionPageInfo,h=f.afterCount,i=f.beforeCount,j=f.hasNext,k=f.hasPrevious;f=f.pageSize;var l=a.depth,m=a.feedback,n=a.hiddenCommentIDs,o=a.isInitiallyExpanded,p=a.shouldRenderComposerPreemptively,q=a.topLevelCommentFeedback,r=a.topLevelFeedback,s=a.totalCount;a=a.viewOption;q=g({depth:l,feedback:m,topLevelCommentFeedback:q,topLevelFeedback:r});if(m.id==null)throw b("unrecoverableViolation")("A feedback target cannot have a null id","ufi2");i={afterCount:h,beforeCount:i,canViewerComment:q,commentIDs:d,commentsByID:e,feedbackTargetID:m.id,hasNext:j,hasPrevious:k,hiddenCommentIDs:n,initiallyExpanded:o,pageSize:f,shouldRenderComposerPreemptively:p,topLevelFeedbackTargetID:(h=r==null?void 0:r.id)!=null?h:m.id,totalCount:s,viewOption:a};return l===0?b("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},i,{depth:0}),state:(q=c)!=null?q:null}):b("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},i,{depth:1,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER}),state:(d=c)!=null?d:null})}}),null);
__d("CometUFICommentListenersContext",["EventEmitter","FBLogger","React","useStable"],(function(a,b,c,d,e,f){"use strict";f.CometUFICommentListenersContextProvider=a;f.useCometUFIOnCommentCreate=c;f.useCometUFIOnCommentsExpanded=d;f.useCometUFIOnCommentsPaginated=e;f.useCometUFIOnCommentsCollapsed=j;var g=b("React"),h=new(b("EventEmitter"))(),i=g.createContext({getEmitter:function(a,c){new(b("FBLogger"))("ufi2").mustfix("Context not setup correctly for CometUFICommentListenersContext using global emitter for "+c+", this is not supported please contact the ufight_club oncall to chat about your use case","ufi2");return h},isInitialized:!1});f.CometUFICommentListenersContext=i;function a(a){a=a.children;var c=b("useStable")(function(){return new Map()}),d=g.useCallback(function(a){var d;d=(d=c.get(a))!=null?d:new(b("EventEmitter"))();c.set(a,d);return d},[c]),e=g.useMemo(function(){return{getEmitter:d,isInitialized:!0}},[d]);return g.jsx(i.Provider,{value:e,children:a})}function c(a,b,c){var d=g.useContext(i),e=d.getEmitter;g.useEffect(function(){if(a==null)return;if(c==="IM_SORRY_ITS_NULL_FOR_SOME_REASON_AND_THIS_SHOULD_REALLY_NEVER_HAPPEN")return;var d=e(a,c).addListener("comment_create",b);return function(){e(a,c).removeListener(d)}},[a,b,e,c])}function d(a,b,c){var d=g.useContext(i),e=d.getEmitter;g.useEffect(function(){if(a==null)return;var d=e(a,c).addListener("comments_expand",b);return function(){e(a,c).removeListener(d)}},[a,b,e,c])}function e(a,b,c){var d=g.useContext(i),e=d.getEmitter;g.useEffect(function(){if(a==null)return;var d=e(a,c).addListener("comments_pagination",b);return function(){e(a,c).removeListener(d)}},[a,b,e,c])}function j(a,b,c){var d=g.useContext(i),e=d.getEmitter;g.useEffect(function(){if(a==null)return;var d=e(a,c).addListener("comments_collapse",b);return function(){e(a,c).removeListener(d)}},[a,b,e,c])}}),null);
__d("CometUFICommentsProviderState",["FBLogger","gkx"],(function(a,b,c,d,e,f){"use strict";f.getBeforeCount=a;f.getClientCommentIDs=i;f.getCommentsFromEdges=j;f.getRemovedCommentIDs=k;f.getCommentIDsUpdatedToServerIDs=l;f.getNewlyCreatedCommentIDs=m;f.getHiddenCommentIDs=n;f.getNewlyHiddenCommentIDs=o;f.getNewlyUnhiddenCommentIDs=p;f.getDerivedStateFromProps=c;f.getInitialState=d;function g(a,b,c){if(b){var d=a==null?void 0:a.client_id;if(d!=null&&b.has(d))return!0}if(c){b=a==null?void 0:a.id;if(b!=null&&c.has(b))return!0}return a!=null&&(a.optimistic_error!=null||a.optimistic_action!=null)}function h(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback)==null?void 0:(a=a.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function i(a){return a.filter(function(a){return a.startsWith("client:")})}function j(a){var c={};a=a?a.map(function(a){if(!a){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}if(a.id!=null){var d=a.id;c[d]=a;return d}else{b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}}).filter(Boolean):[];if(a.length>Object.keys(c).length){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:c}}return{commentIDs:a,commentsByID:c}}function k(a,c){var d=Object.keys(a),e=Object.keys(c),f=d.length,g=e.length;if(g>=f)return[];e.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||b("FBLogger")("ufi2").warn("CometUFICommentsProvider: Expected next comments to be a subset of previous comments when removing a comment");g=d.filter(function(a){return!Object.prototype.hasOwnProperty.call(c,a)});return g}function l(a,b,c,d){var e=[];c=a.filter(function(a){return!a.startsWith("client:")});var f=function(){if(h){if(i>=g.length)return"break";a=g[i++]}else{i=g.next();if(i.done)return"break";a=i.value}var c=a,f=d[c],j=f&&f.client_id!=null?f.client_id:null;j!=null&&b.find(function(a){return a===j})&&e.push({clientID:j,serverID:c})};for(var g=c,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){c=f();if(c==="break")break}return e}function m(a,c,d,e,f){if(d.length<=c.length)return[];var h=a[d[0]];if(!h){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}h=c.filter(function(b){return g(a[b],e,f)});c=d.filter(function(b){return g(a[b],e,f)});d=c.length-h.length>0;if(!d)return[];if(h.length===0)return c;var i=new Set(h);return c.filter(function(a){return!i.has(a)})}function n(a,b){return b.filter(function(b){b=a[b];return b!=null&&h(b)})}function o(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!1&&h(c)===!0})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!0&&h(c)===!1})}function c(a,c){var d=a.depth,e=a.locallyComposedCommentIds,f=a.realtimeCommentIds,g=c.commentsByID,h=c.commentIDs;a=j(a.edges);var q=a.commentIDs;a=a.commentsByID;var r=h.length,s=c.clientCommentIDs,t=q.length,u=i(q),v=c.selectedViewOption;c=c.isRefetchingConnection;var w=n(a,q),x=o(g,a,q),y=p(g,a,q);s=l(q,s,u,a);var z=t>r;r=r>t;t=z?m(a,h,q,e,f):[];z=r&&!c;h=z?k(g,a):[];e={clientCommentIDs:u,commentIDs:q,commentIDsUpdatedToServerIDs:s,commentsByID:a,hiddenCommentIDs:w,isRefetchingConnection:c,newlyCreatedCommentIDs:t,newlyHiddenCommentIDs:x,newlyUnhiddenCommentIDs:y,removedCommentIDs:h,selectedViewOption:v};b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return e}function d(a){a=a.edges;a=j(a);var b=a.commentIDs;a=a.commentsByID;var c=i(b),d=n(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}}),null);
__d("UFI2RelayConnectionRenderer.react",["invariant","React","RelayRuntime","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/readContext","react-relay/RelayContext"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");var h=(c=b("RelayRuntime")).ConnectionInterface,i=c.createOperationDescriptor;d=c.deepFreeze;var j=c.getRequest;f=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=!1;d.$2=!1;d.$6=function(a,b){if(!d.$7()||d.$1)return;d.$4("forward",a,b||{})};d.$8=function(a,b){if(!d.$9()||d.$2)return;d.$4("backward",a,b||{})};d.$7=function(){var a=d.props.connection;a=k(a);return a?a.hasNext:!1};d.$9=function(){var a=d.props.connection;a=k(a);return a?a.hasPrevious:!1};d.$5=function(a,b){a==="forward"?(d.$1=!0,d.forceUpdate(b)):a==="backward"&&(d.$2=!0,d.forceUpdate(b))};var e=b("react-relay/RelayContext").assertRelayContext(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));d.state={mirroredRelayContext:e,prevProps:c,queryFetchers:{backward:new(b("react-relay/ReactRelayQueryFetcher"))(),forward:new(b("react-relay/ReactRelayQueryFetcher"))()}};return d}c.getDerivedStateFromProps=function(a,c){var d=b("react-relay/RelayContext").assertRelayContext(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));if(c.prevProps.paginationQuery!==a.paginationQuery||c.mirroredRelayContext.environment!==d.environment){c=c.queryFetchers;return{mirroredRelayContext:d,prevProps:a,queryFetchers:babelHelpers["extends"]({},c)}}return null};var d=c.prototype;d.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&(b.queryFetchers.backward.dispose(),b.queryFetchers.forward.dispose())};d.componentWillUnmount=function(){var a=this.state.queryFetchers;a.backward.dispose();a.forward.dispose()};d.shouldComponentUpdate=function(a,b){return!0};d.$3=function(a,b){a==="forward"?(this.$1=!1,this.forceUpdate(b)):a==="backward"&&(this.$2=!1,this.forceUpdate(b))};d.$4=function(a,b,c){var d=this,e=this.props,f=e.connection;e=e.paginationQuery;var h=this.state.queryFetchers;h=h[a];f=k(f);f||g(0,1775);b=l(a,b,f,c);if(b==null)return;var m=babelHelpers["extends"]({},b,{UFI2CommentsProvider_commentsKey:this.props.commentsKey});f=this.state.mirroredRelayContext.environment;var n=c.onLoaded;b=j(e);c=i(b,m);var o=!1;try{var p=h.fetch({environment:f,onDataChange:function(b){var c=b.error,e=b.snapshot;if(o)return;o=!0;d.$3(a,function(){n&&n({data:e==null?void 0:e.data,error:c,variables:m})})},operation:c});p?(o=!0,this.$3(a,function(){n&&n({data:p.data,variables:m})})):this.$5(a)}catch(a){n&&n({error:a,variables:m})}};d.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;a={edges:a,hasNext:this.$7(),hasPrevious:this.$9(),isLoadingNext:this.$1,isLoadingPrevious:this.$2,loadNext:this.$6,loadPrevious:this.$8};return this.props.children(a)};return c}(a.Component);e.exports=f;function k(a){if(!a)return null;var b=h.get(),c=b.PAGE_INFO,d=b.HAS_NEXT_PAGE,e=b.HAS_PREV_PAGE,f=b.END_CURSOR;b=b.START_CURSOR;a=a[c];a||g(0,1776);return{backwardCursor:a[b],forwardCursor:a[f],hasNext:a[d],hasPrevious:a[e]}}function l(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({},d.queryVariables,{after:null,before:e,first:null,last:a});case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({},d.queryVariables,{after:a,before:null,first:e,last:null});default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}}),null);
__d("CometUFICommentsProvider.react",["CometRelay","CometUFICommentsProviderState","FBLogger","React","RelayModern","RelayUFI2CommentsKeyContext","SiteData","requireDeferred","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","gkx","relay-runtime","unrecoverableViolation","CometUFICommentsProvider_displayCommentsMetadata.graphql","CometUFICommentsProvider_displayCommentsHighlightedComments.graphql","CometUFICommentsProviderPaginationQuery.graphql","CometUFICommentsProviderReadCommentsPageQuery.graphql","CometUFICommentsProvider_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k,l=b("React"),m=b("requireDeferred")("CometUFICreateCommentSubscription"),n=b("requireDeferred")("CometUFIPegasusCreateCommentSubscription"),o=b("SiteData").pr,p=50,q=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state=b("CometUFICommentsProviderState").getInitialState({edges:d.props.edges,feedback:d.props.feedback});d.$1=function(a){var c=a.count,e=a.direction,f=a.onCommentsFetched;a=d.props;var g=a.depth,h=a.displayCommentsContext,i=a.feedback,j=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.isLoadingNext,n=a.isLoadingPrevious,p=a.loadNext,q=a.loadPrevious,r=a.topLevelViewOption;a=a.useDefaultActor;var s=d.state.selectedViewOption;i=i==null?void 0:i.id;if(i==null){b("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant fetch without a feedback id");return}if(e==="forward"&&m)return;if(e==="backward"&&n)return;m={displayCommentsContextEnableComment:h==null?void 0:h.enableComment,displayCommentsContextIsAdPreview:h==null?void 0:h.isAdPreview,displayCommentsContextIsAggregatedShare:h==null?void 0:h.isAggregatedShare,displayCommentsContextIsStorySet:h==null?void 0:h.isStorySet,displayCommentsFeedbackContext:h==null?void 0:h.feedbackContext,feedLocation:k,feedbackID:i,feedbackSource:j,focusCommentID:l,includeHighlightedComments:!1,includeNestedComments:g===0,isComet:!0,isInitialFetch:!1,isPaginating:!0,scale:o,topLevelViewOption:r,useDefaultActor:a,viewOption:s};if(e==="backward")q(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$2({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:m});else if(e==="forward")p(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$2({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:m});else throw b("unrecoverableViolation")("CometUFICommentsProvider: Invalid direction","ufi2")};d.$3=function(a){var c=d.state.commentsByID[a];if(c==null){b("FBLogger")("ufi2").warn("CometUFICommentsProvider: Could not find requested comment locally: %s",a);return null}return c};d.$5=function(a){var c=a.onComplete,e=a.queryVariables;a=d.props;var f=a.depth,g=a.displayCommentsContext,h=a.feedback,i=a.feedbackSource,j=a.feedLocation,k=a.focusCommentID,l=a.relay,m=a.topLevelViewOption,n=a.useDefaultActor,p=d.state.selectedViewOption,q=h==null?void 0:h.id;if(q==null){b("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant refetch without a feedback id");return}d.setState({isRefetchingConnection:!0},function(){l.refetch(function(a){return babelHelpers["extends"]({},a,{displayCommentsContextEnableComment:g==null?void 0:g.enableComment,displayCommentsContextIsAdPreview:g==null?void 0:g.isAdPreview,displayCommentsContextIsAggregatedShare:g==null?void 0:g.isAggregatedShare,displayCommentsContextIsStorySet:g==null?void 0:g.isStorySet,displayCommentsFeedbackContext:g==null?void 0:g.feedbackContext,feedLocation:j,feedbackID:q,feedbackSource:i,focusCommentID:k,includeHighlightedComments:f>0&&((e==null?void 0:e.isPaginating)==null||(e==null?void 0:e.isPaginating)===!1),includeNestedComments:!0,isComet:!0,isInitialFetch:!1,scale:o,topLevelViewOption:m,useDefaultActor:n,viewOption:p},e)},null,function(a){return d.$4(a||null,c)})})};d.$6=function(a){var b=a.onComplete;a=a.viewOption;d.setState({selectedViewOption:a},function(){d.$5({onComplete:b,queryVariables:{isPaginating:!1}})})};d.$7=function(){var a=d.props,c=a.commentsKey,e=a.depth,f=a.feedback,g=a.feedbackSource,h=a.feedLocation,i=a.focusCommentID,j=a.onRealtimeCommentReceived,k=a.relay,l=a.useDefaultActor;if(b("gkx")("1352852")&&(g===1||g===69))return null;var o=f==null?void 0:f.id,p=f==null?void 0:f.subscription_target_id;if(e===1||o==null||p==null)return null;var q=!1,r={dispose:function(){q=!0}};!0===b("gkx")("1703994")?n.load().then(function(a){if(q)return;r.dispose=a.subscribe({commentsKey:c,environment:k.environment,feedLocation:h,feedbackSource:g,focusCommentID:i,isComet:!0,onNext:function(a){j&&j(a==null?void 0:(a=a.pegasus_comment_create_subscribe)==null?void 0:a.feedback_comment_edge)},subscriptionTargetID:p,topLevelFeedbackTargetID:o,useDefaultActor:l}).dispose})["catch"](function(a){return b("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to CometUFIPegasusCreateCommentSubscription,               this is probably because the arguments didn't line up with what               we're expected or someone has been tinkering with its               implementation")}):m.load().then(function(a){if(q)return;r.dispose=a.subscribe({commentsKey:c,environment:k.environment,feedLocation:h,feedbackSource:g,focusCommentID:i,isComet:!0,onNext:function(a){j&&j(a==null?void 0:(a=a.comment_create_subscribe)==null?void 0:a.feedback_comment_edge)},subscriptionTargetID:p,topLevelFeedbackTargetID:o,useDefaultActor:l}).dispose})["catch"](function(a){return b("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to CometUFICreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return r};return d}var d=a.prototype;d.$2=function(a){var c=a.direction,d=a.error,e=a.onCommentsFetched;a=a.variables;if(d){e&&e({commentIDs:[],direction:c,error:d});return}d=this.props.relay.environment;var f=b("relay-runtime").getRequest(s);f=b("relay-runtime").createOperationDescriptor(f,a);a=d.lookup(f.fragment).data;d=(a=a==null?void 0:(d=a.feedback)==null?void 0:(f=d.display_comments)==null?void 0:f.edges)!=null?a:[];f=d.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);e&&e({commentIDs:f||[],direction:c,error:null})};d.$4=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};d.render=function(){var a,c,d,e=this.props,f=e.children,i=e.depth,j=e.feedback,k=e.hasNext,m=e.hasPrevious,n=e.isLoadingNext;e=e.isLoadingPrevious;var o=this.state,q=o.commentIDs,r=o.commentIDsUpdatedToServerIDs,s=o.commentsByID,t=o.hiddenCommentIDs,u=o.isRefetchingConnection,v=o.newlyCreatedCommentIDs,w=o.newlyHiddenCommentIDs,x=o.newlyUnhiddenCommentIDs,y=o.removedCommentIDs;o=o.selectedViewOption;var z=b("CometRelay").readInlineData(g!==void 0?g:g=b("CometUFICommentsProvider_displayCommentsMetadata.graphql"),j==null?void 0:j.display_comments);a=(a=z==null?void 0:z.page_size)!=null?a:p;c=(c=z==null?void 0:z.ufi2_connection_generation)!=null?c:0;d={afterCount:(d=j==null?void 0:(d=j.display_comments)==null?void 0:d.after_count)!=null?d:0,beforeCount:(d=j==null?void 0:(d=j.display_comments)==null?void 0:d.before_count)!=null?d:0,hasNext:k,hasPrevious:m,pageSize:a};k=null;try{m=b("CometRelay").readInlineData(h!==void 0?h:h=b("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql"),j==null?void 0:j.display_comments);k=(a=m==null?void 0:m.highlighted_comments)!=null?a:[]}catch(a){}var A={};((m=z==null?void 0:z.expanded_sub_reply_parents)!=null?m:[]).forEach(function(a){a=a==null?void 0:a.id;a!=null&&(A[a]=!0)});a=(z==null?void 0:z.is_initially_expanded)===!0;m=(j=j==null?void 0:(m=j.display_comments)==null?void 0:m.count)!=null?j:0;j=(z==null?void 0:z.comment_order)||o;o=(o=z==null?void 0:z.reply_comment_order)!=null?o:null;return l.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$7,children:f({commentIDs:q,commentIDsUpdatedToServerIDs:r,commentsByID:s,connectionGeneration:c,connectionPageInfo:d,expandedSubReplyParents:A,fetchComments:this.$1,getComment:this.$3,hiddenCommentIDs:t,highlightedComments:k,isFetchingNextComments:n,isFetchingPreviousComments:e,isInitiallyExpanded:a,isRefetchingConnection:u,newlyCreatedCommentIDs:v,newlyHiddenCommentIDs:w,newlyUnhiddenCommentIDs:x,refetchConnection:this.$5,removedCommentIDs:y,replyViewOption:o,setViewOption:this.$6,shouldRenderComposerPreemptively:(f=z==null?void 0:z.should_render_composer_preemptively)!=null?f:i===0,totalCount:m,viewOption:j})})};return a}(l.PureComponent);q.displayName="CometUFICommentsProviderInternal";q.getDerivedStateFromProps=b("CometUFICommentsProviderState").getDerivedStateFromProps;function a(a){var c,d=(c=a.feedback)==null?void 0:c.display_comments;if(d==null){return(c=a.fallback)!=null?c:null}return l.jsx(b("RelayUFI2CommentsKeyContext").Consumer,{children:function(c){if(c==null&&b("gkx")("1510195"))throw b("unrecoverableViolation")("CometUFICommentsProvider expected RelayUFI2CommentsKeyContext to be set","ufi2");return l.jsx(b("UFI2RelayConnectionRenderer.react"),{commentsKey:c,connection:d,paginationQuery:r,children:function(b){return l.jsx(q,babelHelpers["extends"]({commentsKey:c,depth:0},a,b))}})}})}var r=i!==void 0?i:i=b("CometUFICommentsProviderPaginationQuery.graphql"),s=j!==void 0?j:j=b("CometUFICommentsProviderReadCommentsPageQuery.graphql");c=b("RelayModern").createRefetchContainer(a,{feedback:k!==void 0?k:k=b("CometUFICommentsProvider_feedback.graphql")},r);e.exports=c}),null);
__d("CometUFIVisibilityContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({current:!0});e.exports=c}),null);
__d("CometUFICommentList.react",["fbt","CometRelay","CometUFIActionsContext","CometUFICommentListenersContext","CometUFICommentListGetDerivedStateFromProps","CometUFICommentListState","CometUFICommentListStateConfig","CometUFICommentsProvider.react","CometUFIVisibilityContext","FBLogger","JSTracing","QE2Logger","React","SearchableEntry","SubscriptionsHandler","debounce","emptyFunction","gkx","qex","recoverableViolation","scrollIntoView","unrecoverableViolation","CometUFICommentList_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j={behavior:"smooth",verticalAlign:"center"};function k(a,c){var d;d=((d=a.associated_group)==null?void 0:d.visibility)==="OPEN";d&&b("gkx")("1840625")&&b("QE2Logger").logExposureForUser("public_communities_privacy_comprehension_2020");return(d=a.comment_composer_placeholder)!=null?d:c>0?g._("\u1015\u103c\u1014\u103a\u1000\u103c\u102c\u1038\u1019\u103e\u102f \u1010\u1005\u103a\u1001\u102f \u101b\u1031\u1038\u101b\u1014\u103a"):g._("\u1019\u103e\u1010\u103a\u1001\u103b\u1000\u103a\u1010\u1005\u103a\u1001\u102f \u101b\u1031\u1038\u1015\u102b ..")}var l=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state={listState:b("CometUFICommentListGetDerivedStateFromProps").getInitialState(d.props,void 0),mirroredProps:d.props};d.$2=null;d.$5=null;d.$6=null;d.$7=new Map();d.$4=new Map();d.$8={};d.$9=!1;d.$10=!1;d.$11=!1;d.$12=!1;d.$13={};d.$3=new(b("SubscriptionsHandler"))();d.$16=function(a,b){d.$4.set(a,b)};d.$17=function(){var a=d.props.feedback.id;a!=null&&d.props.commentListenerContext.isInitialized?d.props.commentListenerContext.getEmitter(a,d.props.feedLocation).emit("comments_collapse",a):a==null&&d.props.commentListenerContext.isInitialized&&b("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2");a=d.props;var c=a.depth,e=a.totalCount;d.$18(function(a){return b("CometUFICommentListState").StateUpdaters.collapseList({args:{depth:c,totalCount:e},state:a})})};d.$19=function(a){var c=a.focusComposer,e=a.preventFetch,f=a.scrollToComposer;a=d.props.feedback.id;a!=null&&d.props.commentListenerContext.isInitialized?d.props.commentListenerContext.getEmitter(a,d.props.feedLocation).emit("comments_expand",a):a==null&&d.props.commentListenerContext.isInitialized&&b("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2");a=d.props;var g=a.connectionPageInfo.pageSize,h=a.depth,i=a.fetchComments,j=a.refetchConnection,k=a.totalCount;a=d.state.listState;e!==!0&&b("CometUFICommentListState").Selectors.isListExpanded({depth:h,state:a})&&b("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:h,state:a})===0&&k>0&&(a.pagers.forward||a.pagers.backward)&&((e=b("qex")._("1568103"))!=null?e:!1)&&(a.pagers.forward?d.$20:d.$21)({onCommentsRendered:function(){return d.$19({focusComposer:c,preventFetch:!0,scrollToComposer:f})}});c&&(d.$9=!0);f===!0&&(d.$10=!0);d.$14();var l=!1;d.$18(function(a){var c=h===0&&b("CometUFICommentListState").Selectors.isListLoading({depth:h,state:a})||h!==0&&b("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:h,state:a});if(c)return null;c=h===0?b("CometUFICommentListState").StateUpdaters.expandList({args:{depth:h,totalCount:k},state:a}):b("CometUFICommentListState").StateUpdaters.expandList({args:{depth:h,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,totalCount:k},state:a});if(h===0){a=b("CometUFICommentListState").Selectors.isListLoading({depth:h,state:c});l=a;return c}a=b("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:h,state:c});l=a;return c},function(a){if(!l)return;if(h===0){j({});return}a=b("CometUFICommentListState").Selectors.getCountForFetch({depth:h,direction:"forward",pageSize:g,state:a});if(a==null)return;i({count:a,direction:"forward",onCommentsFetched:d.$22})})};d.$23=function(a){var c=d.props.depth;d.$18(function(d){return b("CometUFICommentListState").StateUpdaters.expandHiddenComments({args:{commentIDs:a,depth:c},state:d})})};d.$24=function(a){var c=d.props,e=c.connectionPageInfo.pageSize,f=c.depth,g=c.fetchComments;c=c.totalCount;var h=d.state.listState;if(!b("CometUFICommentListState").Selectors.canFetchInDirection({depth:f,direction:a,state:h,totalCount:c}))return;c=b("CometUFICommentListState").Selectors.getCountForFetch({depth:f,direction:a,pageSize:e,state:h});if(c==null)return;g({count:c,direction:a,onCommentsFetched:d.$22})};d.$25=function(){var a=d.props,c=a.depth,e=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID;a=a.useDefaultActor;if(e.id==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");return{feedLocation:g,feedback:e,feedbackSource:f,feedbackTargetID:e.id,focusCommentID:h,placeholder:k(e,c),useDefaultActor:a}};d.$26=function(a){var b=d.props,c=b.depth,e=b.feedback,f=b.feedbackSource,g=b.topLevelFeedback;b=b.useDefaultActor;g=g==null?void 0:g.id;a={comment:a,depth:c,feedback:e,feedbackSource:f,onReplyToComment:d.handleReplyToComment,useDefaultActor:b};return g==null?a:babelHelpers["extends"]({},a,{topLevelFeedbackID:g})};d.$28=function(){var a=d.props,b=a.commentParent,c=a.depth,e=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID,i=a.topLevelFeedback;a=a.useDefaultActor;i=i==null?void 0:i.id;b={ariaDescribedBy:"",ariaLabel:d.$27(),commentParent:b,componentRef:c===0?d.$29:d.$30,feedLocation:g,feedback:e,feedbackSource:f,focusCommentID:h,onFocus:d.$31,placeholder:k(e,c),useDefaultActor:a};return i==null?b:babelHelpers["extends"]({},b,{topLevelFeedbackID:i})};d.$33=function(){return d.$32("forward")};d.$34=function(){return d.$32("backward")};d.$35=function(){var a=d.props,c=a.depth,e=a.environment;a=a.totalCount;var f=d.state.listState;return{Selectors:b("CometUFICommentListState").Selectors,depth:c,environment:e,expandHiddenComments:d.$23,listState:f,totalCount:a}};d.$36=function(a){var c=d.props,e=c.depth,f=c.displayCommentsContext,g=c.feedback,h=c.feedbackSource,i=c.feedLocation,j=c.focusCommentID,k=c.getComment,l=c.locallyComposedCommentIds,m=c.realtimeCommentIds,n=c.topLevelCommentFeedback,o=c.topLevelFeedback,p=c.useDefaultActor;c=c.viewOption;var q=k(a);k=q&&q.feedback;var r=function(b){d.$8[a]=b,d.$37()},s=function(b){d.$13[a]=b};if(k==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected comment to have a `feedback` in order to render a replies list.","ufi2");n=e===0?k:n;if(n==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel comment feedback.","ufi2");g=e===0?g:o;if(g==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel feedback.","ufi2");return{commentParent:q,depth:e+1,displayCommentsContext:f,feedLocation:i,feedback:k,feedbackSource:h,focusCommentID:j,listRef:r,locallyComposedCommentIds:l,onListRendered:function(a){var b=q!=null?d.$4.get(q.id):null;b&&b(a)},realtimeCommentIds:m,subRepliesExpanderRef:s,topLevelCommentFeedback:n,topLevelFeedback:g,topLevelViewOption:c,useDefaultActor:p}};d.$41=function(){return d.$38("forward")};d.$42=function(){return d.$38("backward")};d.$43=function(){var a=d.props,c=a.connectionPageInfo.pageSize,e=a.depth,f=a.environment;a=a.totalCount;var g=d.state.listState;return{Selectors:b("CometUFICommentListState").Selectors,depth:e,environment:f,listState:g,pageSize:c,totalCount:a}};d.$44=function(){var a=d.props,c=a.depth,e=a.environment;a=a.totalCount;var f=d.state.listState;if(c===0)throw b("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies collapser props","ufi2");return{Selectors:b("CometUFICommentListState").Selectors,collapseList:d.$17,depth:c,environment:e,listState:f,totalCount:a}};d.$45=function(){var a=d.props,c=a.depth,e=a.environment,f=a.highlightedComments,g=a.totalCount;a=a.viewOption;var h=d.state.listState;if(c===0)throw b("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies expander props","ufi2");return{Selectors:b("CometUFICommentListState").Selectors,depth:c,environment:e,expandList:d.$19,highlightedComments:f,listState:h,onMouseEnter:function(){return d.$39("forward")},totalCount:g,viewOption:a}};d.$46=function(a){var b=d.props.expandedSubReplyParents;return b[a]===!0};d.$22=function(a){var c=a.commentIDs,e=a.direction,f=a.error;if(f){d.$18(function(a){return b("CometUFICommentListState").StateUpdaters.failCommentPagination({args:{depth:d.props.depth,direction:e,error:f},state:a})});return}a=d.props;var g=a.connectionPageInfo,h=a.depth,i=a.feedback,j=a.hiddenCommentIDs,k=a.totalCount,l=g.afterCount,m=g.beforeCount,n=g.hasNext,o=g.hasPrevious,p=g.pageSize,q=i.id;if(q==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");var r=!1;d.$18(function(a){r=!0;if(h===0)if(e==="backward")return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:m,commentIDs:c,depth:h,direction:e,feedbackTargetID:q,hasPrevious:o,hiddenCommentIDs:j,pageSize:p,totalCount:k},state:a});else return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:l,commentIDs:c,depth:h,direction:e,feedbackTargetID:q,hasNext:n,hiddenCommentIDs:j,pageSize:p,totalCount:k},state:a});else if(e==="backward")return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:m,commentIDs:c,depth:h,direction:e,feedbackTargetID:q,hasPrevious:o,hiddenCommentIDs:j,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:p,totalCount:k},state:a});else return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:l,commentIDs:c,depth:h,direction:e,feedbackTargetID:q,hasNext:n,hiddenCommentIDs:j,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:p,totalCount:k},state:a})},function(a){r&&d.$47(e)})};d.$48=function(a){var c,d=function(){if(c==null){var d,e;d=(d=b("qex")._("1496343"))!=null?d:!0;e=(e=b("qex")._("1496344"))!=null?e:1e3;c=b("debounce")(d?function(){a.$24("forward")}:b("emptyFunction"),e,a,!0);a.$3.addSubscriptions(c)}c()};d.reset=function(){c&&c.reset()};return d}(babelHelpers.assertThisInitialized(d));d.$49=function(){d.$48.reset()};d.$31=function(){var a=d.props.depth,c=d.state.listState;b("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:a,state:c})===0&&(c.pagers.forward||c.pagers.backward)&&((a=b("qex")._("1568104"))!=null?a:!1)&&(c.pagers.forward?d.$20:d.$21)({onCommentsRendered:function(){d.$9=!0,d.$10=!0,d.$14()}})};d.$29=function(a){d.$5=a,d.$14()};d.$30=function(a){var b;(((b=d.props.commentParent)==null?void 0:b.legacy_fbid)===d.props.focusCommentID||d.props.commentIDs.some(function(a){a=d.props.getComment(a);return(a==null?void 0:a.legacy_fbid)===d.props.focusCommentID}))&&(d.$9=!0);d.$29(a);if(a&&d.$6){b=d.$6;d.$6=null;d.$50(b,a)}a&&d.$12&&(d.$51(d.$1),d.$1=void 0,d.$12=!1);a&&d.$11&&(d.$52(),d.$11=!1)};d.$39=function(a){var c,e=function(e){if(c==null){var f,g;f=(f=b("qex")._("1496345"))!=null?f:!0;g=(g=b("qex")._("1496346"))!=null?g:0;c=b("debounce")(f?d.$24:b("emptyFunction"),g,a,!0);a.$3.addSubscriptions(c)}c(e)};e.reset=function(){c&&c.reset()};return e}(babelHelpers.assertThisInitialized(d));d.handleReplyToComment=function(a){var c,e=d.props,f=e.depth,g=e.feedback,h=e.topLevelCommentFeedback;e=e.topLevelFeedback;if(b("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:f,feedback:g,topLevelCommentFeedback:h,topLevelFeedback:e})===!1)return;var i=a.authorId,j=a.authorIsWeakReference,k=a.authorName,l=a.authorType,m=a.commentComposerPlaceholderText,n=a.commentId;c=i===((c=g.viewer_actor)==null?void 0:c.id);if(f>0){var o=d.$8[n];if(o!=null){o.handleReplyToComment(a);return}o=d.$13[n];if(o!=null){o.handleReplyToComment(a);return}d.$6=null;if(!c){o=d.$5;i={authorId:i,authorIsWeakReference:j,authorName:k,authorType:l};o?d.$50(i,o):d.$6=i}}if(f===0){j=!c&&b("gkx")("1746423");k=d.$8[n];k!=null&&(k.$51(void 0),k.$52(),j&&k.handleReplyToComment(a))}else d.$51({commentComposerPlaceholderText:m,id:n}),d.$52();if(f===0&&((l=g.threading_config)==null?void 0:l.__typename)==="NoThreadingFeedbackConfig"){d.$9=!0;d.$10=!0;d.$14();return}o=b("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:f,feedback:g,topLevelCommentFeedback:h,topLevelFeedback:e});i=d.$8[n]!=null;if(i){c=f>1?(h==null?void 0:h.can_viewer_comment)===!0:g.can_viewer_comment===!0;if(c){j=n;d.$53.push({commentID:j,scrollToComposer:o});d.$37()}else{k=d.$5;k&&k.focus()}}else d.$19({focusComposer:o,scrollToComposer:o})};d.$54=function(a){a=d.$8[a.id];return a!=null?b("CometUFICommentListState").Selectors.isComposerVisible({depth:a.props.depth,state:a.state.listState}):!1};d.$55=function(a){a=d.$8[a.id];return a!=null?a.props.totalCount:0};d.$53=[];d.$20=function(a){a=a?a.onCommentsRendered:void 0;d.$56("forward",a)};d.$21=function(a){a=a?a.onCommentsRendered:void 0;d.$56("backward",a)};d.$57=function(a){var c=a.onComplete,e=a.viewOption;a=d.props;var f=a.depth,g=a.setViewOption;if(f!==0){c&&c(null);return}var h=!1;d.$18(function(a){if(b("CometUFICommentListState").Selectors.isListLoading({depth:f,state:a}))return null;h=!0;return b("CometUFICommentListState").StateUpdaters.requestRefetchList({args:{depth:f},state:a})},function(a){h?g({onComplete:c,viewOption:e}):c&&c(null)})};d.$58=function(a){a=a.focusComposer;var c=d.props,e=c.depth;c=c.totalCount;var f=d.state.listState;!b("CometUFICommentListState").Selectors.isListExpanded({depth:e,state:f})?d.$19({focusComposer:a,scrollToComposer:!1}):c>0&&b("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:0,state:f})===0?f.pagers.forward?d.$20():f.pagers.backward&&d.$21():d.$17()};d.Actions={collapseList:d.$17,expandList:d.$19,loadNewerComments:d.$21,loadOlderComments:d.$20,setViewOption:d.$57,toggleList:d.$58};a=d.props.feedback.id;var e=d.props.feedLocation;if(a!=null)d.$2=d.props.ufiActionsContext.registerUFIActions(a,{expandList:d.Actions.expandList});else{b("recoverableViolation")("CometUFICommentList: Feedback target ID is null in feed location: "+((a=e)!=null?a:"unknown")+". UFI actions cannot be registered.","ufi2")}return d}var d=a.prototype;d.componentWillUnmount=function(){this.$3.release(),this.$4.clear(),this.$2!=null&&this.$2.dispose()};d.$14=function(){var a=this.$9,c=this.$10;if(!a){this.$9=!1;this.$10=!1;return}else{a=this.props.depth;var d=this.state.listState;d=a===0&&!b("CometUFICommentListState").Selectors.isListLoading({depth:a,state:d});a=a!==0;var e=this.$5;if(e!=null&&(d||a)){this.$9=!1;this.$10=!1;d=e.getElementToScrollTo();if(c!==!0){e.focus();return}if(d==null)return;if(d instanceof Text){b("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on CometUFICommentList is being set correctly");e.focus();return}b("scrollIntoView")(d,babelHelpers["extends"]({},j,{onScrollComplete:function(){return e.focus()}}))}}};d.$15=function(a,b){var c=this.$7.get(a)||[];c.push(b);this.$7.set(a,c)};d.$27=function(){var a;a=(a=this.props.commentParent)==null?void 0:(a=a.author)==null?void 0:a.name;return typeof a==="string"?g._("{parent-name} \u1011\u1036 \u1021\u1000\u103c\u1031\u102c\u1004\u103a\u1038\u1015\u103c\u1014\u103a\u1015\u102b",[g._param("parent-name",a)]):g._("Comment on post")};d.$32=function(a){var c=this.props,d=c.depth,e=c.environment,f=c.feedback,g=c.totalCount;c=c.viewOption;var h=this.state.listState;return{Selectors:b("CometUFICommentListState").Selectors,depth:d,direction:a,environment:e,listState:h,totalCount:g,unfilteredTotalCount:(a=(d=f.toplevel_comment_count)==null?void 0:d.count)!=null?a:g,viewOption:c}};d.$38=function(a){var c=this,d=this.props,e=d.connectionPageInfo.pageSize,f=d.depth,g=d.feedback,h=d.totalCount;d=d.viewOption;var i=this.state.listState,j=a==="forward"?this.$20:this.$21;return{Selectors:b("CometUFICommentListState").Selectors,depth:f,direction:a,listState:i,loadMoreComments:j,onMouseEnter:function(){return c.$39(a)},onMouseLeave:function(){return c.$40()},pageSize:e,summaryTotalNumComments:(i=(f=g.comment_count)==null?void 0:f.total_count)!=null?i:0,totalCount:h,viewOption:d}};d.$40=function(){this.$39.reset()};d.$51=function(a){var b=this.$5;b!=null?b.execCommand({__type:"SetReplyAssociation",commentAssociatedWithReply:a}):(this.$1=a,this.$12=!0)};d.$52=function(){var a=this.$5;a!=null?a.execCommand({__type:"SetReplyClicked"}):this.$11=!0};d.$37=function(){var a=this;this.$53=this.$53.filter(function(b){var c=b.commentID;b=b.scrollToComposer;c=a.$8[c];if(c!=null){c.$19({focusComposer:!0,scrollToComposer:b});return!1}return!0})};d.$56=function(a,c){var d=this,e=this.props.feedback.id,f=b("JSTracing").wrap(c?function(){c(),e!=null&&d.props.commentListenerContext.isInitialized?d.props.commentListenerContext.getEmitter(e,d.props.feedLocation).emit("comments_pagination",e):e==null&&d.props.commentListenerContext.isInitialized&&b("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2")}:function(){},"CometUFICommentList:_loadComments"),g=this.props,h=g.connectionPageInfo.pageSize,i=g.depth,j=g.fetchComments,k=!1;this.$18(function(c){var e=b("CometUFICommentListState").Selectors.isPagerLoading({depth:i,direction:a,state:c})||i===0&&b("CometUFICommentListState").Selectors.isListLoading({depth:i,state:c})||i!==0&&b("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:i,state:c});if(e)return null;e=i===0?b("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:0,direction:a,pageSize:h},state:c}):b("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:i,direction:a,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:h},state:c});k=b("CometUFICommentListState").Selectors.isPagerLoading({depth:i,direction:a,state:e});if(k){c=b("CometUFICommentListState").Selectors.getCountForFetch({depth:i,direction:a,pageSize:h,state:e});c!=null&&(f!=null&&d.$15(a,f),j({count:c,direction:a,onCommentsFetched:d.$22}))}return e},function(a){k||f&&f()})};d.$50=function(a,c){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName;a=a.authorType;c.execCommand({__type:"PrefillMention",mentionableEntity:new(b("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,indexRank:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:a==="User"?"user":"non_user",uniqueID:d})})};d.$47=function(a){var b=this.$7.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$7["delete"](a)};d.$18=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};d.render=function(){var a=this.props,c=a.children,d=a.commentParent,e=a.depth,f=a.environment,g=a.getComment,h=a.isInitiallyExpanded,i=a.onListRendered,j=a.replyViewOption,k=a.totalCount;a=a.viewOption;var l=this.state.listState;f={Actions:this.Actions,Selectors:b("CometUFICommentListState").Selectors,addRepliesListRenderedCallback:this.$16,environment:f,getComment:g,getCommentEditorProps:this.$25,getCommentProps:this.$26,getComposerProps:this.$28,getFilterWarningPropsForNewerComments:this.$34,getFilterWarningPropsForOlderComments:this.$33,getHiddenCommentsPlaceholderProps:this.$35,getNestedCommentsListProps:this.$36,getPagerPropsForNewerComments:this.$42,getPagerPropsForOlderComments:this.$41,getPaginationProgressProps:this.$43,getTotalRepliesCountForComment:this.$55,isInitiallyExpanded:h,isReplyComposerVisibleForComment:this.$54,listState:l,onCommentsListMouseEnter:this.$48,onCommentsListMouseLeave:this.$49,replyViewOption:j,totalCount:k,viewOption:a};g=e===0?babelHelpers["extends"]({},f,{depth:0}):babelHelpers["extends"]({},f,{commentParent:d,depth:e,getRepliesCollapserProps:this.$44,getRepliesExpanderProps:this.$45,getShouldInitiallyExpandSubRepliesForComment:this.$46});i&&i({composerVisible:b("CometUFICommentListState").Selectors.isComposerVisible({depth:e,state:l}),totalCount:k});return c(g)};return a}(i.PureComponent);l.displayName="CometUFICommentListInternal";l.getDerivedStateFromProps=b("CometUFICommentListGetDerivedStateFromProps").getDerivedStateFromProps;function a(a){var c=a.children,d=a.commentParent,e=a.depth,f=e===void 0?0:e,g=a.displayCommentsContext;e=a.fallback;var j=a.feedback,k=a.feedbackSource,m=a.feedLocation,n=a.focusCommentID,o=a.listRef,p=a.locallyComposedCommentIds,q=a.onListRendered,r=a.onRealtimeCommentReceived,s=a.realtimeCommentIds;a.subRepliesExpanderRef;var t=a.topLevelCommentFeedback,u=a.topLevelFeedback,v=a.topLevelViewOption,w=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commentParent","depth","displayCommentsContext","fallback","feedback","feedbackSource","feedLocation","focusCommentID","listRef","locallyComposedCommentIds","onListRendered","onRealtimeCommentReceived","realtimeCommentIds","subRepliesExpanderRef","topLevelCommentFeedback","topLevelFeedback","topLevelViewOption","useDefaultActor"]);var x=b("CometRelay").useRelayEnvironment(),y=i.useContext(b("CometUFIVisibilityContext")),z=i.useContext(b("CometUFIActionsContext").CometUFIActionsContext),A=i.useContext(b("CometUFICommentListenersContext").CometUFICommentListenersContext),B=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentList_feedback.graphql"),j);if(f>0&&u==null){b("recoverableViolation")("CometUFICommentList: topLevelFeedback is required to render a replies list","ufi2");return null}if(f>1&&t==null){b("recoverableViolation")("CometUFICommentList: topLevelCommentFeedback is required to render a sub replies list","ufi2");return null}return i.jsx(b("CometUFICommentsProvider.react"),babelHelpers["extends"]({depth:f,displayCommentsContext:g,fallback:e,feedLocation:m,feedback:B,feedbackSource:k,focusCommentID:n,locallyComposedCommentIds:p,onRealtimeCommentReceived:r,realtimeCommentIds:s,topLevelFeedback:u,topLevelViewOption:v,useDefaultActor:w},a,{children:function(a){return i.createElement(l,babelHelpers["extends"]({},a,{children:c,commentListenerContext:A,commentParent:d,depth:f,displayCommentsContext:g,environment:x,feedLocation:m,feedback:B,feedbackSource:k,focusCommentID:n,isUFIVisible:y,key:[k,n,(a=B.id)!=null?a:""].join("_"),locallyComposedCommentIds:p,onListRendered:q,realtimeCommentIds:s,ref:o,topLevelCommentFeedback:t,topLevelFeedback:u,ufiActionsContext:z,useDefaultActor:w}))}}))}}),null);