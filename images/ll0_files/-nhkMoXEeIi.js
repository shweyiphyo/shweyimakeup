if (self.CavalryLogger) { CavalryLogger.start_js(["lcRAN"]); }

__d("XCometNotificationsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/notifications/",Object.freeze({}),void 0);c=a;e.exports=c}),null);
__d("CometNotificationsDropdownMenuButton_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"}],kind:"Fragment",metadata:null,name:"CometNotificationsDropdownMenuButton_notification",selections:[{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{args:[{kind:"Variable",name:"isToast",variableName:"isToast"}],kind:"FragmentSpread",name:"CometNotificationsDropdownMenu_notification"}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItemAttachment_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItemAttachment_notification",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{condition:"isToast",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemLiveVideoAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"LiveVideoNotificationAttachment",abstractKey:null}]},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{condition:"isToast",kind:"Condition",passingValue:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"InlineSurveyNotifAttachment",abstractKey:null}]}],storageKey:null}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItem_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_plus_primary_platform_tool",storageKey:null}],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometNotificationsListItem_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"isToast",variableName:"isToast"}];return{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_notification",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"target_viewer",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_viewer_type",storageKey:null}],storageKey:null},{args:b,kind:"FragmentSpread",name:"CometNotificationsDropdownMenuButton_notification"},{args:b,kind:"FragmentSpread",name:"CometNotificationsListItemAttachment_notification"},{args:null,kind:"FragmentSpread",name:"useCometNotificationURL_notification"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],type:"Notification",abstractKey:null}}();e.exports=a}),null);
__d("useCometNotificationURL_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometNotificationURL_notification",selections:[{kind:"InlineDataFragmentSpread",name:"getCometNotificationURL_notification",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItemSeenContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(function(){});e.exports=c}),null);
__d("CometNotificationsDropdownMenuButton.react",["fbt","CometListCellHoverButton.react","CometRelay","JSResource","React","requireDeferred","CometNotificationsDropdownMenuButton_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("requireDeferred")("Banzai"),k=b("JSResource")("CometNotificationsDropdownMenu.react").__setRef("CometNotificationsDropdownMenuButton.react"),l="open_options_menu";function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometNotificationsDropdownMenuButton_notification.graphql"),a.notification),d=a.userId,e=i.useCallback(function(){j.onReady(function(a){a.post(l,{notification_data:{alert_id:c==null?void 0:c.notif_id,logger_context:"www_tab",notif_type:c==null?void 0:c.notif_type,user_id:d},ref:"www_tab"})})},[c,d]);return i.jsx(b("CometListCellHoverButton.react"),{hidden:a.hidden,label:g._("Options for this notification"),onFocusChange:a.onFocusChange,onHoverChange:a.onHoverChange,onMenuStateChange:a.onMenuStateChange,onPress:e,popoverProps:{notification:c},popoverResource:k,popoverTriggerType:"lazy",popoverType:"menu"})}}),null);
__d("ProfilePlusAdminPermissionsConstants",[],(function(a,b,c,d,e,f){"use strict";f.getInitialNumOfAdminsToShow=a;var g=12,h=6;function a(a){return a==="can_have_limited_access_roles_only"?g:h}b=["Settings","Permissions","Content","Messages","Community Activity","Ads","Insights"];f.FULL_ACCESS_PERMISSIONS=b;c="https://www.facebook.com/business/help/582754542592549";f.LEARN_MORE_ABOUT_SHARED_PROFILE_LINK=c;d="https://www.facebook.com/policies/pages_groups_events/";f.PAGE_TERMS_LINK=d;e="https://www.facebook.com/business/help/294498964994409#tools";f.VIEW_TOOLS_LINK=e;a="https://www.facebook.com/business/help/294498964994409";f.LEARN_MORE_ABOUT_RESTRICTED_ROLES=a}),null);
__d("CometNotificationsListItemAttachment.react",["CometErrorBoundary.react","CometRelay","React","CometNotificationsListItemAttachment_notification.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.date,d=a.notification;a=a.onPress;return h.jsx(b("CometErrorBoundary.react"),{children:h.jsx(i,{date:c,notification:d,onPress:a})})}function i(a){var c=a.date,d=a.notification,e=a.onPress;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometNotificationsListItemAttachment_notification.graphql"),d);d=a.notif_attachments;if(d==null)return null;a=d.map(function(a,d){return h.jsx(b("CometRelay").MatchContainer,{match:a,props:{date:c,notifAttachments:a,onPress:e}},d)}).filter(Boolean);return a.length===0?null:a}}),null);
__d("UntruncatedNotificationsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:UntruncatedNotificationsLoggerConfig")}),null);
__d("useCometNotificationURL",["CometRelay","getCometNotificationURL","useCometNotificationURL_notification.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometNotificationURL_notification.graphql"),a);return b("getCometNotificationURL")(a)}}),null);
__d("useScrollToNotif",["CometRouteMatch","React","XCometNotificationsControllerRouteBuilder"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){var c,d=(c=b("CometRouteMatch")).useCurrentRouteMatcher(c.MatchFunctions.urlMatchFunction);c=c.useHostedRouteMatcher(c.MatchFunctions.urlMatchFunction);c=a!=null?c(a):!1;a=d(b("XCometNotificationsControllerRouteBuilder").buildURL({}).toString());d=g.useRef(c&&!a);return[c,d]};f.useScrollToNotif=a}),null);
__d("CometNotificationsListItem.react",["fbt","CometBadge.react","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFocusTableContext","CometNotificationsDropdownMenuButton.react","CometNotificationsListItemAttachment.react","CometNotificationsListItemSeenContext","CometNotificationsMarkReadMutation","CometNotificationsTimestamp.react","CometPressable.react","CometRelay","CometTextWithEntitiesRelay.react","FocusWithinHandler.react","React","TetraAccessoryListCell.react","TetraIcon.react","UntruncatedNotificationsTypedLoggerLite","requireDeferred","cometNotificationsListItemIcon","gkx","goForceFullPageRedirectTo","mergeRefs","qex","scrollIntoView","stylex","useCometPreloader","useCometRouterDispatcher","useMenuButtonVisibilityState","useNotificationsImpressionLogger","useScrollToNotif","useVisibilityObserver","useCometNotificationURL","useCometConfirmationDialog","promiseDone","JSResource","useProfileCometErrorDialog_DEPRECATED","CometCrossProfileNotificationStrings","useCometLazyDialog","JSResourceForInteraction","ProfilePlusCrossProfileNotificationFalcoEvent","CometNotificationsListItem_actor.graphql","CometNotificationsListItem_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("React"),aa=b("UntruncatedNotificationsTypedLoggerLite").log,ba=b("JSResourceForInteraction")("CometCrossProfileNotificationsLARConfirmationDialog.react").__setRef("CometNotificationsListItem.react"),ca=b("JSResource")("CometProfileSwitchMutation").__setRef("CometNotificationsListItem.react"),da=0,ea="notif_click_events",fa=b("requireDeferred")("Banzai"),l={hiddenLabel:{clip:"q45zohi1",clipPath:"g0aa4cga",position:"pmk7jnqg",wordBreak:"dxrwds1f"},listItemContainer:{position:"l9j0dhe7"},pressable:{alignItems:"bp9cbjyn",display:"j83agx80",height:"m7zwrmfr",justifyContent:"taijpn5t",paddingStart:"b3onmgus",width:"odw8uiq3"},spacer:{height:"cyypbtt7",width:"fwizqjfa"}},ga={"*":[b("CometBoldedEntityRenderer")]},ha=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()],ia=h!==void 0?h:h=b("CometNotificationsListItem_actor.graphql"),ja=i!==void 0?i:i=b("CometNotificationsListItem_notification.graphql");function a(a){var c=a.actor,d=a.isFromPageNotification,e=a.isNotificationsRoute,f=e===void 0?!1:e;e=a.loggerContext;var h=e===void 0?"www_tab":e;e=a.notification;var i=a.onClick,m=a.onClose,n=a.replace,o=a.routeTarget,p=a.showSelectedState,ka=p===void 0?!1:p,q=a.trackingData;p=b("CometRelay").useFragment(ia,c);var r=b("CometRelay").useFragment(ja,e),s=b("useCometNotificationURL")(r);a=r.body;c=r.creation_time;var t=r.id,u=r.navigation_endpoint,v=r.notif_id;e=r.notif_image;var w=r.notif_type,x=r.seen_state,y=r.tracking,z=k.useRef(null),A=p==null?void 0:p.id,B=p==null?void 0:p.profile_plus_primary_platform_tool,C=(p=d)!=null?p:!1,D=(u==null?void 0:u.target_viewer_type)==="MP_CORE_APP_ADMIN"&&b("gkx")("1701726"),E=(u==null?void 0:u.target_viewer_type)==="MP_LIMITED_ACCESS_ROLE"&&b("gkx")("1734825"),F=u==null?void 0:(d=u.target_viewer)==null?void 0:d.name,G=u==null?void 0:(p=u.target_viewer)==null?void 0:p.id;d=babelHelpers["extends"]({navigation_source:"notifications_click"},w!=null?{notif_type:w}:null);p=k.useMemo(function(){var a;return(a=q)!=null?a:{notif_tracking:y}},[y,q]);var la={onNavigate:m,passthroughProps:{initialTracePolicy:"comet.notifications",notification_id:(m=v)!=null?m:void 0,notificationTracking:p,ref:"notification"},preventLocalNavigation:(D||E)&&s!=null&&F!=null,productAttribution:{tap_point:"via_notification"},replace:(m=n)!=null?m:void 0,routeTarget:C?"content":(n=o)!=null?n:void 0,target:Boolean(r.www_url_should_open_in_blank_target)?"_blank":void 0,traceParams:d,url:(m=s)!=null?m:void 0},H=b("CometRelay").useRelayEnvironment(),ma="MAIN_SURFACE",I="unknown",J=b("useCometRouterDispatcher")();o=b("useScrollToNotif").useScrollToNotif(s);var na=o[0],K=o[1],L=K.current;n=k.useContext(b("CometFocusTableContext"));d=n.FocusCell;m=n.FocusRow;var oa=(o=d)!=null?o:k.Fragment,pa=(n=m)!=null?n:k.Fragment;d=b("useCometConfirmationDialog")();var M=d[0];d[1];k.useLayoutEffect(function(){z.current!=null&&L&&(b("scrollIntoView")(z.current,{behavior:"auto",verticalAlign:"center"}),K.current=!1)},[L,K]);o=b("useProfileCometErrorDialog_DEPRECATED")(b("CometCrossProfileNotificationStrings").getCAAProfileSwitchErrorDialogTitle());var N=o[0],O=k.useCallback(function(){b("ProfilePlusCrossProfileNotificationFalcoEvent").log(function(){var a;return{event:"CONFIRM_SWITCHING",logged_in_user_id:(a=A)!=null?a:"",medium:"jewel",ndid:"",notif_id:(a=v)!=null?a:"",notif_type:(a=w)!=null?a:"",target_viewer_id:(a=G)!=null?a:"",target_viewer_type:(a=u==null?void 0:u.target_viewer_type)!=null?a:"",underlying_admin_id:(a=A)!=null?a:""}})},[A,u==null?void 0:u.target_viewer_type,v,w,G]),P=k.useCallback(function(){b("ProfilePlusCrossProfileNotificationFalcoEvent").log(function(){var a;return{event:"CANCEL_SWITCHING",logged_in_user_id:(a=A)!=null?a:"",medium:"jewel",ndid:"",notif_id:(a=v)!=null?a:"",notif_type:(a=w)!=null?a:"",target_viewer_id:(a=G)!=null?a:"",target_viewer_type:(a=u==null?void 0:u.target_viewer_type)!=null?a:"",underlying_admin_id:(a=A)!=null?a:""}})},[A,u==null?void 0:u.target_viewer_type,v,w,G]);m=b("useCometLazyDialog")(ba);var Q=m[0],qa=k.useCallback(function(){if(t!=null&&A!=null){i&&i();fa.onReady(function(a){a.post(ea,babelHelpers["extends"]({},q,{notification_data:{alert_id:v,logger_context:h,to_user:A},ref:f?"notifications_route":"www_tab"}))});b("CometNotificationsMarkReadMutation")(H,{input:{is_comet:!0,notif_id:t,source:I}});if(s!=null&&F!=null)if(D){var a,c=function(a){b("promiseDone")(d.then(function(c){c=c.switchProfile;c(H,{profileId:a},{onCompleted:function(){b("goForceFullPageRedirectTo")(s)},onError:function(a){N(a)}})}))},d=ca.load();M({body:(a=b("CometCrossProfileNotificationStrings")).getCAAProfileSwitchDialogBody(F),cancel:a.getCAAProfileSwitchDialogCancelText(),confirm:a.getCAAProfileSwitchDialogConfirmText(),title:a.getCAAProfileSwitchDialogTitle(F)},function(){O();return c(G)},function(){P()})}else E&&Q({additionalProfileId:G,additionalProfileName:F,adminId:A,larLandingPlatform:B,notifId:v,notifType:w,onClose:function(){},url:s})}},[t,w,A,i,H,s,F,q,v,h,f,D,E,M,N,O,G,P,B,Q]),R=k.useCallback(function(){t!=null&&b("CometNotificationsMarkReadMutation")(H,{input:{environment:ma,is_comet:!0,notif_id:t,source:I}})},[H,t]),S=a;n=c==null?void 0:c.timestamp;d=e==null?void 0:e.uri;o=b("useMenuButtonVisibilityState")();var ra=o[0];m=o[1];var T=m.setListItemHovered,sa=m.setMenuBtnFocused,ta=m.setMenuBtnHovered,ua=m.setMenuOpened,U=x==="UNSEEN_AND_UNREAD"||x==="SEEN_BUT_UNREAD";a=k.useCallback(function(){J&&s!=null&&U&&b("qex")._("1590992")&&J.prefetchRouteQueries(s,{})},[J,U,s]);c=b("useCometPreloader")("button",a,a);var V=c[0],W=c[1],va=k.useCallback(function(){T(!1),W()},[W,T]),wa=k.useCallback(function(a){T(!0),V(a)},[V,T]);e=b("useNotificationsImpressionLogger")({actorId:A,loggerContext:h,notifId:v,trackingData:p});var X=e[0],xa=e[1],ya=k.useContext(b("CometNotificationsListItemSeenContext")),Y=b("useVisibilityObserver")({onVisible:function(){b("gkx")("1587829")||ya(t)}}),za=k.useMemo(function(){if(h==="www_tab"||h==="beeper")return b("mergeRefs")(X,z,Y);else return z},[Y,h,X]),Z=S==null?void 0:(o=S.text)==null?void 0:o.length;k.useEffect(function(){Z!=null&&Z>da&&aa({length:Z,notification_type:w})},[w,Z]);if(t==null||S==null||d==null||x==null||n==null)return null;m=new Date(n*1e3);var $=x==="SEEN_AND_READ";c=(a=r.icon_data)==null?void 0:a.reaction_type;e=(p=r.icon_data)==null?void 0:p.glyph_name;o=b("cometNotificationsListItemIcon")(e,c);n=o!=null?{backgroundColor:"transparent",icon:k.jsx(b("TetraIcon.react"),{color:"white",icon:o}),size:28,type:"activityBadge"}:null;var Aa=k.jsx(b("CometNotificationsTimestamp.react"),{date:m,seenAndRead:$}),Ba={addOn:n,shape:"circle",size:56,source:{uri:d},type:"profile-photo"},Ca={override_component:k.jsx(b("CometNotificationsListItemAttachment.react"),{date:m,notification:r,onPress:R}),type:"designOverride_Notifications_bottomAddOn"};x=r==null?void 0:r.is_hidden;return x===!0?null:k.jsx(b("FocusWithinHandler.react"),{children:function(a,c){return k.jsx(pa,{children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.listItemContainer),onMouseEnter:wa,onMouseLeave:va,ref:za,role:"row",children:[xa,k.jsx(b("TetraAccessoryListCell.react"),{addOnBottom:Ca,addOnPrimary:Ba,addOnSecondary:{addOn:$?k.jsx("div",{className:(j||(j=b("stylex")))(l.spacer)}):k.jsx(b("CometPressable.react"),{expanding:!0,onPress:R,overlayDisabled:!0,role:"none",testid:void 0,xstyle:l.pressable,children:k.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"},body:k.jsxs(k.Fragment,{children:[$?null:k.jsx("div",{className:(j||(j=b("stylex")))(l.hiddenLabel),children:g._("\u1019\u1016\u1010\u103a\u101b\u101e\u1031\u1038")}),k.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:ga,textWithEntities:S,transforms:ha})]}),bodyColor:$?"secondary":"primary",bodyLineLimit:3,linkProps:la,meta:Aa,onPress:qa,selected:na&&ka,testid:void 0}),w!=="friend"&&w!=="page_invite"?k.jsx(oa,{children:k.jsx(b("CometNotificationsDropdownMenuButton.react"),{hidden:C||!(a&&c)&&!ra,notification:r,onFocusChange:sa,onHoverChange:ta,onMenuStateChange:ua,userId:A})}):null]})})}})}c=k.memo(a);e.exports=c}),null);